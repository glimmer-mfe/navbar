(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();var e=Object.freeze([]);const n=function(t,e){if(!t)throw new Error(e||"assertion failure")};function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(){return Object.create(null)}function a(t){return null!=t}function u(t){return"object"===o(t)&&null!==t}var s=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.stack=[],this.current=null}return e=t,(n=[{key:"push",value:function(t){this.current=t,this.stack.push(t)}},{key:"pop",value:function(){var t=this.stack.pop(),e=this.stack.length;return this.current=0===e?null:this.stack[e-1],void 0===t?null:t}},{key:"nth",value:function(t){var e=this.stack.length;return e<t?null:this.stack[e-t]}},{key:"isEmpty",value:function(){return 0===this.stack.length}},{key:"toArray",value:function(){return this.stack}},{key:"size",get:function(){return this.stack.length}}])&&r(e.prototype,n),o&&r(e,o),t;var e,n,o}();function c(t){for(var e=t.firstChild;e;){var n=e.nextSibling;t.removeChild(e),e=n}}var l=0;function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var p=Object.keys;function h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!==n&&"object"===f(n))for(var r=p(n),o=0;o<r.length;o++){var i=r[o];t[i]=n[i]}}return t}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unreachable";return new Error(t)}function v(t){throw new Error("Exhausted ".concat(t))}var d="undefined"!=typeof Symbol?Symbol:function(t){return"__".concat(t).concat(Math.floor(Math.random()*Date.now()),"__")};function m(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return[!1,!0,null,void 0].concat(e)}function b(t){return t%1==0&&t<=536870911&&t>=-536870912}function g(t){return(t|=0)<0?function(t){return-536870913&t}(t):function(t){return~t}(t)}function k(t){return(t|=0)>-536870913?function(t){return~t}(t):function(t){return 536870912|t}(t)}function w(t){if("number"==typeof t)return t;var e=t.errors[0];throw new Error("Compile Error: ".concat(e.problem," @ ").concat(e.span.start,"..").concat(e.span.end))}function S(t){if("error"===t.result)throw new Error("Compile Error: ".concat(t.problem," @ ").concat(t.span.start,"..").concat(t.span.end));return t}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}[1,2,3].forEach((function(t){return t})),[1,-1].forEach((function(t){return k(g(t))}));const E="function"==typeof WeakSet?WeakSet:function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._map=new WeakMap}var e,n;return e=t,(n=[{key:"add",value:function(t){return this._map.set(t,!0),this}},{key:"delete",value:function(t){return this._map.delete(t)}},{key:"has",value:function(t){return this._map.has(t)}}])&&O(e.prototype,n),t}();var A,j;function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unexpected unreachable branch";console.log("unreachable",t),console.trace("".concat(e," :: ").concat(JSON.stringify(t)," (").concat(t,")"))}function C(t){return t>=0&&t<=15}function R(t){return t<=3}!function(t){t[t.s0=4]="s0",t[t.s1=5]="s1"}(A||(A={})),function(t){t[t.t0=6]="t0",t[t.t1=7]="t1"}(j||(j={}));var x=d("INNER_VM"),T=d("DESTROYABLE_STACK"),P=d("STACKS"),M=d("REGISTERS"),N=d("HEAP"),I=d("CONSTANTS"),L=d("ARGS");function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t,e,n){return e&&D(t.prototype,e),n&&D(t,n),t}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}d("PC");var J=function t(e,n){U(this,t),this.element=e,this.nextSibling=n},V=function(){function t(e,n,r){U(this,t),this.parentNode=e,this.first=n,this.last=r}return B(t,[{key:"parentElement",value:function(){return this.parentNode}},{key:"firstNode",value:function(){return this.first}},{key:"lastNode",value:function(){return this.last}}]),t}(),z=function(){function t(e,n){U(this,t),this.parentNode=e,this.node=n}return B(t,[{key:"parentElement",value:function(){return this.parentNode}},{key:"firstNode",value:function(){return this.node}},{key:"lastNode",value:function(){return this.node}}]),t}();function H(t,e){for(var n=t.parentElement(),r=t.firstNode(),o=t.lastNode(),i=r;;){var a=i.nextSibling;if(n.insertBefore(i,e),i===o)return a;i=a}}function F(t){for(var e=t.parentElement(),n=t.firstNode(),r=t.lastNode(),o=n;;){var i=o.nextSibling;if(e.removeChild(o),o===r)return i;o=i}}var W,G,$,Y,q,K,X,Q=function(){};function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t){return et(t)?"":String(t)}function et(t){return null==t||"function"!=typeof t.toString}function nt(t){return"object"===Z(t)&&null!==t&&"function"==typeof t.toHTML}function rt(t){return"object"===Z(t)&&null!==t&&"number"==typeof t.nodeType}function ot(t){return"string"==typeof t}var it={INPUT:{form:!0,autocorrect:!0,list:!0},SELECT:{form:!0},OPTION:{form:!0},TEXTAREA:{form:!0},LABEL:{form:!0},FIELDSET:{form:!0},LEGEND:{form:!0},OBJECT:{form:!0},BUTTON:{form:!0}};function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ut,st=["javascript:","vbscript:"],ct=["A","BODY","LINK","IMG","IFRAME","BASE","FORM"],lt=["EMBED"],ft=["href","src","background","action"],pt=["src"];function ht(t,e){return-1!==t.indexOf(e)}function yt(t,e){return(null===t||ht(ct,t))&&ht(ft,e)}function vt(t,e){return null!==t&&ht(lt,t)&&ht(pt,e)}function dt(t,e){return yt(t,e)||vt(t,e)}if("object"===("undefined"==typeof URL?"undefined":at(URL))&&null!==URL&&"function"==typeof URL.parse){var mt=URL;ut=function(t){var e=null;return"string"==typeof t&&(e=mt.parse(t).protocol),null===e?":":e}}else if("function"==typeof URL)ut=function(t){try{return new URL(t).protocol}catch(t){return":"}};else{var bt=document.createElement("a");ut=function(t){return bt.href=t,bt.protocol}}function gt(t,e,n){var r;if(null==n)return n;if(nt(n))return n.toHTML();r=t?t.tagName.toUpperCase():null;var o=tt(n);if(yt(r,e)){var i=ut(o);if(ht(st,i))return"unsafe:".concat(o)}return vt(r,e)?"unsafe:".concat(o):o}function kt(t){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e,n){return(wt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ct(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function St(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ot(t,e,n){return e&&St(t.prototype,e),n&&St(t,n),t}function Et(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&At(t,e)}function At(t,e){return(At=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ct(t);if(e){var o=Ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _t(this,n)}}function _t(t,e){return!e||"object"!==kt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ct(t){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xt(t,e,n){return dt(t,e)?new It(n):new Pt(n)}var Tt=function t(e){Rt(this,t),this.attribute=e},Pt=function(t){Et(n,t);var e=jt(n);function n(){return Rt(this,n),e.apply(this,arguments)}return Ot(n,[{key:"set",value:function(t,e,n){var r=Bt(e);if(null!==r){var o=this.attribute,i=o.name,a=o.namespace;t.__setAttribute(i,r,a)}}},{key:"update",value:function(t,e){var n=Bt(t),r=this.attribute,o=r.element,i=r.name;null===n?o.removeAttribute(i):o.setAttribute(i,n)}}]),n}(Tt),Mt=function(t){Et(n,t);var e=jt(n);function n(t,r){var o;return Rt(this,n),(o=e.call(this,r)).normalizedName=t,o}return Ot(n,[{key:"set",value:function(t,e,n){null!=e&&(this.value=e,t.__setProperty(this.normalizedName,e))}},{key:"update",value:function(t,e){var n=this.attribute.element;this.value!==t&&(n[this.normalizedName]=this.value=t,null==t&&this.removeAttribute())}},{key:"removeAttribute",value:function(){var t=this.attribute,e=t.element,n=t.namespace;n?e.removeAttributeNS(n,this.normalizedName):e.removeAttribute(this.normalizedName)}}]),n}(Tt),Nt=function(t){Et(n,t);var e=jt(n);function n(){return Rt(this,n),e.apply(this,arguments)}return Ot(n,[{key:"set",value:function(t,e,r){var o=this.attribute,i=gt(o.element,o.name,e);wt(Ct(n.prototype),"set",this).call(this,t,i,r)}},{key:"update",value:function(t,e){var r=this.attribute,o=gt(r.element,r.name,t);wt(Ct(n.prototype),"update",this).call(this,o,e)}}]),n}(Mt),It=function(t){Et(n,t);var e=jt(n);function n(){return Rt(this,n),e.apply(this,arguments)}return Ot(n,[{key:"set",value:function(t,e,r){var o=this.attribute,i=gt(o.element,o.name,e);wt(Ct(n.prototype),"set",this).call(this,t,i,r)}},{key:"update",value:function(t,e){var r=this.attribute,o=gt(r.element,r.name,t);wt(Ct(n.prototype),"update",this).call(this,o,e)}}]),n}(Pt),Lt=function(t){Et(n,t);var e=jt(n);function n(){return Rt(this,n),e.apply(this,arguments)}return Ot(n,[{key:"set",value:function(t,e){t.__setProperty("value",tt(e))}},{key:"update",value:function(t){var e=this.attribute.element,n=e.value,r=tt(t);n!==r&&(e.value=r)}}]),n}(Mt),Dt=function(t){Et(n,t);var e=jt(n);function n(){return Rt(this,n),e.apply(this,arguments)}return Ot(n,[{key:"set",value:function(t,e){null!=e&&!1!==e&&t.__setProperty("selected",!0)}},{key:"update",value:function(t){this.attribute.element.selected=!!t}}]),n}(Mt);function Bt(t){return!1===t||null==t||void 0===t.toString?null:!0===t?"":"function"==typeof t?null:String(t)}var Ut,Jt=new WeakMap;function Vt(t,e){return null===t?e:Array.isArray(t)?(t.push(e),t):[t,e]}function zt(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else null!==t&&e(t)}function Ht(t){var e=Jt.get(t);return void 0===e&&(e={parents:null,children:null,eagerDestructors:null,destructors:null,state:0},Jt.set(t,e)),e}function Ft(t,e){var n=Ht(t),r=Ht(e);return n.children=Vt(n.children,e),r.parents=Vt(r.parents,t),e}function Wt(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Ht(t),o=!0===n?"eagerDestructors":"destructors";return r[o]=Vt(r[o],e),e}function Gt(t){var e=Ht(t);if(!(e.state>=1)){var n=e.parents,r=e.children,o=e.eagerDestructors,i=e.destructors;e.state=1,zt(r,Gt),zt(o,(function(e){return e(t)})),zt(i,(function(e){return W(t,e)})),G((function(){zt(n,(function(e){return function(t,e){var n=Ht(e);0===n.state&&(n.children=function(t,e,n){if(Array.isArray(t)&&t.length>1){var r=t.indexOf(e);return t.splice(r,1),t}return null}(n.children,t))}(t,e)})),e.state=2}))}}function $t(t){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}function qt(t,e){return(qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zt(t);if(e){var o=Zt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(t,e){return!e||"object"!==$t(e)&&"function"!=typeof e?Qt(t):e}function Qt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zt(t){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ne(t,e,n){return e&&ee(t.prototype,e),n&&ee(t,n),t}var re=function(){function t(e){te(this,t),this.node=e}return ne(t,[{key:"firstNode",value:function(){return this.node}}]),t}(),oe=function(){function t(e){te(this,t),this.node=e}return ne(t,[{key:"lastNode",value:function(){return this.node}}]),t}(),ie=d("CURSOR_STACK"),ae=function(){function t(e,n,r){te(this,t),this.constructing=null,this.operations=null,this[Ut]=new s,this.modifierStack=new s,this.blockStack=new s,this.pushElement(n,r),this.env=e,this.dom=e.getAppendOperations(),this.updateOperations=e.getDOM()}return ne(t,[{key:"initialize",value:function(){return this.pushSimpleBlock(),this}},{key:"debugBlocks",value:function(){return this.blockStack.toArray()}},{key:"block",value:function(){return this.blockStack.current}},{key:"popElement",value:function(){this[ie].pop(),this[ie].current}},{key:"pushSimpleBlock",value:function(){return this.pushLiveBlock(new ue(this.element))}},{key:"pushUpdatableBlock",value:function(){return this.pushLiveBlock(new ce(this.element))}},{key:"pushBlockList",value:function(t){return this.pushLiveBlock(new le(this.element,t))}},{key:"pushLiveBlock",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.blockStack.current;return null!==n&&(e||n.didAppendBounds(t)),this.__openBlock(),this.blockStack.push(t),t}},{key:"popBlock",value:function(){return this.block().finalize(this),this.__closeBlock(),this.blockStack.pop()}},{key:"__openBlock",value:function(){}},{key:"__closeBlock",value:function(){}},{key:"openElement",value:function(t){var e=this.__openElement(t);return this.constructing=e,e}},{key:"__openElement",value:function(t){return this.dom.createElement(t,this.element)}},{key:"flushElement",value:function(t){var e=this.element,n=this.constructing;this.__flushElement(e,n),this.constructing=null,this.operations=null,this.pushModifiers(t),this.pushElement(n,null),this.didOpenElement(n)}},{key:"__flushElement",value:function(t,e){this.dom.insertBefore(t,e,this.nextSibling)}},{key:"closeElement",value:function(){return this.willCloseElement(),this.popElement(),this.popModifiers()}},{key:"pushRemoteElement",value:function(t,e,n){return this.__pushRemoteElement(t,e,n)}},{key:"__pushRemoteElement",value:function(t,e,n){if(this.pushElement(t,n),void 0===n)for(;t.lastChild;)t.removeChild(t.lastChild);var r=new se(t);return this.pushLiveBlock(r,!0)}},{key:"popRemoteElement",value:function(){this.popBlock(),this.popElement()}},{key:"pushElement",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this[ie].push(new J(t,e))}},{key:"pushModifiers",value:function(t){this.modifierStack.push(t)}},{key:"popModifiers",value:function(){return this.modifierStack.pop()}},{key:"didAppendBounds",value:function(t){return this.block().didAppendBounds(t),t}},{key:"didAppendNode",value:function(t){return this.block().didAppendNode(t),t}},{key:"didOpenElement",value:function(t){return this.block().openElement(t),t}},{key:"willCloseElement",value:function(){this.block().closeElement()}},{key:"appendText",value:function(t){return this.didAppendNode(this.__appendText(t))}},{key:"__appendText",value:function(t){var e=this.dom,n=this.element,r=this.nextSibling,o=e.createTextNode(t);return e.insertBefore(n,o,r),o}},{key:"__appendNode",value:function(t){return this.dom.insertBefore(this.element,t,this.nextSibling),t}},{key:"__appendFragment",value:function(t){var e=t.firstChild;if(e){var n=new V(this.element,e,t.lastChild);return this.dom.insertBefore(this.element,t,this.nextSibling),n}return new z(this.element,this.__appendComment(""))}},{key:"__appendHTML",value:function(t){return this.dom.insertHTMLBefore(this.element,this.nextSibling,t)}},{key:"appendDynamicHTML",value:function(t){var e=this.trustedContent(t);this.didAppendBounds(e)}},{key:"appendDynamicText",value:function(t){var e=this.untrustedContent(t);return this.didAppendNode(e),e}},{key:"appendDynamicFragment",value:function(t){var e=this.__appendFragment(t);this.didAppendBounds(e)}},{key:"appendDynamicNode",value:function(t){var e=this.__appendNode(t),n=new z(this.element,e);this.didAppendBounds(n)}},{key:"trustedContent",value:function(t){return this.__appendHTML(t)}},{key:"untrustedContent",value:function(t){return this.__appendText(t)}},{key:"appendComment",value:function(t){return this.didAppendNode(this.__appendComment(t))}},{key:"__appendComment",value:function(t){var e=this.dom,n=this.element,r=this.nextSibling,o=e.createComment(t);return e.insertBefore(n,o,r),o}},{key:"__setAttribute",value:function(t,e,n){this.dom.setAttribute(this.constructing,t,e,n)}},{key:"__setProperty",value:function(t,e){this.constructing[t]=e}},{key:"setStaticAttribute",value:function(t,e,n){this.__setAttribute(t,e,n)}},{key:"setDynamicAttribute",value:function(t,e,n,r){var o=function(t,e,n){var r=t.tagName,o={element:t,name:e,namespace:n};if("http://www.w3.org/2000/svg"===t.namespaceURI)return xt(r,e,o);var i=function(t,e){var n,r,o,i,a;if(e in t)r=e,n="prop";else{var u=e.toLowerCase();u in t?(n="prop",r=u):(n="attr",r=e)}return"prop"===n&&("style"===r.toLowerCase()||(o=t.tagName,i=r,(a=it[o.toUpperCase()])&&a[i.toLowerCase()]))&&(n="attr"),{normalized:r,type:n}}(t,e),a=i.type,u=i.normalized;return"attr"===a?xt(r,u,o):function(t,e,n){return dt(t,e)?new Nt(e,n):function(t,e){return("INPUT"===t||"TEXTAREA"===t)&&"value"===e}(t,e)?new Lt(e,n):function(t,e){return"OPTION"===t&&"selected"===e}(t,e)?new Dt(e,n):new Mt(e,n)}(r,u,o)}(this.constructing,t,r);return o.set(this,e,this.env),o}},{key:"element",get:function(){return this[ie].current.element}},{key:"nextSibling",get:function(){return this[ie].current.nextSibling}},{key:"hasBlocks",get:function(){return this.blockStack.size>0}}],[{key:"forInitialRender",value:function(t,e){return new this(t,e.element,e.nextSibling).initialize()}},{key:"resume",value:function(t,e){var n=new this(t,e.parentElement(),e.reset(t)).initialize();return n.pushLiveBlock(e),n}}]),t}();Ut=ie;var ue=function(){function t(e){te(this,t),this.parent=e,this.first=null,this.last=null,this.nesting=0}return ne(t,[{key:"parentElement",value:function(){return this.parent}},{key:"firstNode",value:function(){return this.first.firstNode()}},{key:"lastNode",value:function(){return this.last.lastNode()}},{key:"openElement",value:function(t){this.didAppendNode(t),this.nesting++}},{key:"closeElement",value:function(){this.nesting--}},{key:"didAppendNode",value:function(t){0===this.nesting&&(this.first||(this.first=new re(t)),this.last=new oe(t))}},{key:"didAppendBounds",value:function(t){0===this.nesting&&(this.first||(this.first=t),this.last=t)}},{key:"finalize",value:function(t){null===this.first&&t.appendComment("")}}]),t}(),se=function(t){Yt(n,t);var e=Kt(n);function n(t){var r;return te(this,n),Wt(Qt(r=e.call(this,t)),(function(){r.parentElement()===r.firstNode().parentNode&&F(Qt(r))})),r}return n}(ue),ce=function(t){Yt(n,t);var e=Kt(n);function n(){return te(this,n),e.apply(this,arguments)}return ne(n,[{key:"reset",value:function(){Gt(this);var t=F(this);return this.first=null,this.last=null,this.nesting=0,t}}]),n}(ue),le=function(){function t(e,n){te(this,t),this.parent=e,this.boundList=n,this.parent=e,this.boundList=n}return ne(t,[{key:"parentElement",value:function(){return this.parent}},{key:"firstNode",value:function(){return this.boundList[0].firstNode()}},{key:"lastNode",value:function(){var t=this.boundList;return t[t.length-1].lastNode()}},{key:"openElement",value:function(t){}},{key:"closeElement",value:function(){}},{key:"didAppendNode",value:function(t){}},{key:"didAppendBounds",value:function(t){}},{key:"finalize",value:function(t){}}]),t}();function fe(t,e){return ae.forInitialRender(t,e)}var pe="undefined"!=typeof Symbol?Symbol:function(t){return"__".concat(t).concat(Math.floor(Math.random()*Date.now()),"__")},he="undefined"!=typeof Symbol?Symbol.for:function(t){return"__GLIMMER_VALIDATOR_SYMBOL_FOR_".concat(t)};function ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function de(t,e,n){return e&&ve(t.prototype,e),n&&ve(t,n),t}var me=1,be=pe("TAG_COMPUTE");function ge(t){return t[be]()}function ke(t,e){return e>=t[be]()}var we=pe("TAG_TYPE"),Se=function(){function t(e){ye(this,t),this.revision=1,this.lastChecked=1,this.lastValue=1,this.isUpdating=!1,this.subtag=null,this.subtagBufferCache=null,this[we]=e}return de(t,[{key:be,value:function(){var t=this.lastChecked;if(!0===this.isUpdating)this.lastChecked=++me;else if(t!==me){this.isUpdating=!0,this.lastChecked=me;try{var e=this.subtag,n=this.revision;if(null!==e)if(Array.isArray(e))for(var r=0;r<e.length;r++){var o=e[r][be]();n=Math.max(o,n)}else{var i=e[be]();i===this.subtagBufferCache?n=Math.max(n,this.lastValue):(this.subtagBufferCache=null,n=Math.max(n,i))}this.lastValue=n}finally{this.isUpdating=!1}}return this.lastValue}}],[{key:"combine",value:function(e){switch(e.length){case 0:return je;case 1:return e[0];default:var n=new t(2);return n.subtag=e,n}}},{key:"updateTag",value:function(t,e){var n=t,r=e;r===je?n.subtag=null:(n.subtagBufferCache=r[be](),n.subtag=r)}},{key:"dirtyTag",value:function(t){t.revision=++me,Q()}}]),t}(),Oe=Se.dirtyTag,Ee=Se.updateTag;function Ae(){return new Se(1)}var je=new Se(3);new(function(){function t(){ye(this,t)}return de(t,[{key:be,value:function(){return NaN}}]),t}()),new(function(){function t(){ye(this,t)}return de(t,[{key:be,value:function(){return me}}]),t}());var _e=Se.combine,Ce=Ae(),Re=Ae(),xe=Ae();ge(Ce),Oe(Ce),ge(Ce),Ee(Ce,_e([Re,xe])),ge(Ce),Oe(Re),ge(Ce),Oe(xe),ge(Ce),Ee(Ce,xe),ge(Ce),Oe(xe),ge(Ce);var Te=new WeakMap;function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Me=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tags=new Set,this.last=null}var e,n;return e=t,(n=[{key:"add",value:function(t){t!==je&&(this.tags.add(t),this.last=t)}},{key:"combine",value:function(){var t=this.tags;if(0===t.size)return je;if(1===t.size)return this.last;var e=[];return t.forEach((function(t){return e.push(t)})),_e(e)}}])&&Pe(e.prototype,n),t}(),Ne=null,Ie=[];function Le(t){Ie.push(Ne),Ne=new Me}function De(){var t=Ne;return Ne=Ie.pop()||null,function(t){if(null==t)throw new Error("Expected value to be present");return t}(t).combine()}function Be(t){null!==Ne&&Ne.add(t)}function Ue(t,e){var n;Le();try{t()}finally{n=De()}return n}function Je(t){Ie.push(Ne),Ne=null;try{return t()}finally{Ne=Ie.pop()||null}}pe("CACHE_KEY"),pe("FN"),pe("LAST_VALUE"),pe("TAG"),pe("SNAPSHOT"),pe("DEBUG_LABEL");var Ve=he("GLIMMER_VALIDATOR_REGISTRATION"),ze=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t.g)return t.g;throw new Error("unable to locate global object")}();if(!0===ze[Ve])throw new Error("The `@glimmer/validator` library has been included twice in this application. It could be different versions of the package, or the same version included twice by mistake. `@glimmer/validator` depends on having a single copy of the package in use at any time in an application, even if they are the same version. You must dedupe your build to remove the duplicate packages in order to prevent this error.");ze[Ve]=!0;var He=d("REFERENCE"),Fe=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tag=null,this.lastRevision=1,this.children=null,this.compute=null,this.update=null,this[He]=e};function We(t){var e=new Fe(2);return e.tag=je,e.lastValue=t,e}var Ge=We(void 0),$e=We(null),Ye=We(!0),qe=We(!1);function Ke(t,e){var n=new Fe(0);return n.lastValue=t,n.tag=je,n}function Xe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new Fe(1);return n.compute=t,n.update=e,n}function Qe(t){return t.tag===je}function Ze(t){var e=t,n=e.tag;if(n===je)return e.lastValue;var r,o=e.lastRevision;if(null!==n&&ke(n,o))r=e.lastValue;else{var i=e.compute;n=e.tag=Ue((function(){r=e.lastValue=i()})),e.lastRevision=ge(n)}return Be(n),r}function tn(t,e){(0,t.update)(e)}function en(t,e){var n,r,o,i=t,u=i[He],s=i.children;if(null===s)s=i.children=new Map;else if(void 0!==(n=s.get(e)))return n;if(2===u){var c=Ze(i);a(c)?(r=c[e],(o=new Fe(2)).lastValue=r,o.tag=je,n=o):n=Ge}else n=Xe((function(){var t=Ze(i);if(a(t))return q(t,e)}),(function(t){var n=Ze(i);if(a(n))return K(n,e,t)}));return s.set(e,n),n}function nn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function on(t,e,n){return e&&rn(t.prototype,e),n&&rn(t,n),t}var an={},un=function(t,e){return e},sn=function(t,e){return String(e)},cn=function(t){return null===t?an:t};var ln=function(){function t(){nn(this,t)}return on(t,[{key:"set",value:function(t,e){u(t)||"function"==typeof t?this.weakMap.set(t,e):this.primitiveMap.set(t,e)}},{key:"get",value:function(t){return u(t)||"function"==typeof t?this.weakMap.get(t):this.primitiveMap.get(t)}},{key:"weakMap",get:function(){return void 0===this._weakMap&&(this._weakMap=new WeakMap),this._weakMap}},{key:"primitiveMap",get:function(){return void 0===this._primitiveMap&&(this._primitiveMap=new Map),this._primitiveMap}}]),t}(),fn=new ln;function pn(t){var e=new ln;return function(n,r){var o=t(n,r),i=e.get(o)||0;return e.set(o,i+1),0===i?o:function(t,e){var n=fn.get(t);void 0===n&&(n=[],fn.set(t,n));var r=n[e];return void 0===r&&(r={value:t,count:e},n[e]=r),r}(o,i)}}function hn(t){var e=t,n=new Se(0);return Xe((function(){return Be(n),e}),(function(t){e!==t&&(e=t,Oe(n))}))}var yn=function(){function t(e,n){nn(this,t),this.inner=e,this.keyFor=n}return on(t,[{key:"isEmpty",value:function(){return this.inner.isEmpty()}},{key:"next",value:function(){var t=this.inner.next();return null!==t&&(t.key=this.keyFor(t.value,t.memo)),t}}]),t}(),vn=function(){function t(e,n){nn(this,t),this.iterator=e,this.keyFor=n,this.pos=0,0===e.length?this.current={kind:"empty"}:this.current={kind:"first",value:e[this.pos]}}return on(t,[{key:"isEmpty",value:function(){return"empty"===this.current.kind}},{key:"next",value:function(){var t,e=this.current;if("first"===e.kind)this.current={kind:"progress"},t=e.value;else{if(this.pos>=this.iterator.length-1)return null;t=this.iterator[++this.pos]}return{key:(0,this.keyFor)(t,this.pos),value:t,memo:this.pos}}}]),t}();function dn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bn(t,e,n){return e&&mn(t.prototype,e),n&&mn(t,n),t}var gn=function(){function t(e){dn(this,t),this.bucket=e?h({},e):{}}return bn(t,[{key:"get",value:function(t){return this.bucket[t]}},{key:"set",value:function(t,e){return this.bucket[t]=e}},{key:"child",value:function(){return new t(this.bucket)}}]),t}(),kn=function(){function t(e,n,r,o){dn(this,t),this.slots=e,this.callerScope=n,this.evalScope=r,this.partialMap=o}return bn(t,[{key:"init",value:function(t){var e=t.self;return this.slots[0]=e,this}},{key:"getSelf",value:function(){return this.get(0)}},{key:"getSymbol",value:function(t){return this.get(t)}},{key:"getBlock",value:function(t){var e=this.get(t);return e===Ge?null:e}},{key:"getEvalScope",value:function(){return this.evalScope}},{key:"getPartialMap",value:function(){return this.partialMap}},{key:"bind",value:function(t,e){this.set(t,e)}},{key:"bindSelf",value:function(t){this.set(0,t)}},{key:"bindSymbol",value:function(t,e){this.set(t,e)}},{key:"bindBlock",value:function(t,e){this.set(t,e)}},{key:"bindEvalScope",value:function(t){this.evalScope=t}},{key:"bindPartialMap",value:function(t){this.partialMap=t}},{key:"bindCallerScope",value:function(t){this.callerScope=t}},{key:"getCallerScope",value:function(){return this.callerScope}},{key:"child",value:function(){return new t(this.slots.slice(),this.callerScope,this.evalScope,this.partialMap)}},{key:"get",value:function(t){if(t>=this.slots.length)throw new RangeError("BUG: cannot get $".concat(t," from scope; length=").concat(this.slots.length));return this.slots[t]}},{key:"set",value:function(t,e){if(t>=this.slots.length)throw new RangeError("BUG: cannot get $".concat(t," from scope; length=").concat(this.slots.length));this.slots[t]=e}}],[{key:"root",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=new Array(n+1),o=0;o<=n;o++)r[o]=Ge;return new t(r,null,null,null).init({self:e})}},{key:"sized",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=new Array(e+1),r=0;r<=e;r++)n[r]=Ge;return new t(n,null,null,null)}}]),t}();function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sn(t,e){return(Sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function On(t,e){return!e||"object"!==wn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function En(t){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function An(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _n=new(function(){function t(){An(this,t),this.evaluateOpcode=function(t){for(var e=new Array(104),n=0;n<104;n++)e[n]=null;return e}().slice()}var e,n;return e=t,(n=[{key:"add",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"syscall";this.evaluateOpcode[t]={syscall:"machine"!==n,evaluate:e}}},{key:"debugBefore",value:function(t,e){return{sp:void 0,pc:t.fetchValue(0),name:void 0,params:void 0,type:e.type,isMachine:e.isMachine,size:e.size,state:void 0}}},{key:"debugAfter",value:function(t,e){e.sp,e.type,e.isMachine,e.pc}},{key:"evaluate",value:function(t,e,n){var r=this.evaluateOpcode[n];r.syscall?r.evaluate(t,e):r.evaluate(t[x],e)}}])&&jn(e.prototype,n),t}()),Cn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sn(t,e)}(o,(function t(){An(this,t),e=this,e._guid=++l;var e}));var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=En(e);if(n){var o=En(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return On(this,t)});function o(){return An(this,o),r.apply(this,arguments)}return o}();function Rn(t){return"function"!=typeof t.toString?"":String(t)}function xn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tn(t){return t===Ge}function Pn(t){return 0|(t.dynamicLayout?1:0)|(t.dynamicTag?2:0)|(t.prepareArgs?4:0)|(t.createArgs?8:0)|(t.attributeHook?16:0)|(t.elementHook?32:0)|(t.dynamicScope?64:0)|(t.createCaller?128:0)|(t.updateHook?256:0)|(t.createInstance?512:0)|(t.wrapped?1024:0)|(t.willDestroy?2048:0)}function Mn(t,e,n){return!!(e&n)}function Nn(t,e){return!!(t&e)}_n.add(16,(function(t,e){var n=e.op1,r=t.stack,o=t.runtime.resolver.resolve(n)(r.popJs(),t);t.loadValue(8,o)})),_n.add(21,(function(t,e){var n=e.op1,r=t.referenceForSymbol(n);t.stack.pushJs(r)})),_n.add(19,(function(t,e){var n=e.op1,r=t.stack.pop();t.scope().bindSymbol(n,r)})),_n.add(20,(function(t,e){var n=e.op1,r=t.stack.popJs(),o=t.stack.popJs(),i=t.stack.popJs(),a=i?[r,o,i]:null;t.scope().bindBlock(n,a)})),_n.add(102,(function(t,e){var n=e.op1,r=t[I].getValue(n),o=t.scope().getPartialMap()[r];void 0===o&&(o=en(t.getSelf(),r)),t.stack.pushJs(o)})),_n.add(36,(function(t,e){var n=e.op1;t.pushRootScope(n)})),_n.add(22,(function(t,e){var n=e.op1,r=t[I].getValue(n),o=t.stack.popJs();t.stack.pushJs(en(o,r))})),_n.add(23,(function(t,e){var n=e.op1,r=t.stack,o=t.scope().getBlock(n);null===o?r.pushNull():r.pushJs(o)})),_n.add(24,(function(t){var e=t.stack,n=e.popJs();if(n&&!Tn(n)){var r=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return xn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n,3),o=r[0],i=r[1],a=r[2];e.pushJs(a),e.pushJs(i),"number"==typeof o?e.pushSmallInt(o):e.pushJs(o)}else e.pushNull(),e.pushNull(),e.pushNull()})),_n.add(25,(function(t){var e=t.stack,n=e.pop();n&&!Tn(n)?e.pushJs(Ye):e.pushJs(qe)})),_n.add(26,(function(t){t.stack.pop(),t.stack.popJs();var e=t.stack.popJs(),n=e&&e.parameters.length;t.stack.pushJs(n?Ye:qe)})),_n.add(27,(function(t,e){for(var n,r=e.op1,o=new Array(r),i=r;i>0;i--)o[i-1]=t.stack.pop();t.stack.pushJs((n=o,Xe((function(){for(var t=new Array,e=0;e<n.length;e++){var r=Ze(n[e]);null!=r&&(t[e]=Rn(r))}return t.length>0?t.join(""):null}))))}));var In=d("INNER"),Ln=d("ARGS"),Dn=new E;function Bn(t){return Dn.has(t)}var Un=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Dn.add(this),this[In]=e,this[Ln]=n};function Jn(t){var e=t[In],n=t[Ln],r=n?n.positional.length:0;return Bn(e)?r+Jn(e):r}function Vn(t,e){var n=t;for(e.realloc(Jn(n));;){var r=n,o=r[Ln],i=r[In];if(o&&(e.positional.prepend(o.positional),e.named.merge(o.named)),!Bn(i))return i;n=i}}function zn(t,e,n){return t.lookupComponent(e,n)}var Hn={dynamicLayout:!1,dynamicTag:!1,prepareArgs:!1,createArgs:!1,attributeHook:!1,elementHook:!1,dynamicScope:!1,createCaller:!1,updateHook:!1,createInstance:!1,wrapped:!1,willDestroy:!1};function Fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gn(t,e,n){return e&&Wn(t.prototype,e),n&&Wn(t,n),t}function $n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yn(t,e)}function Yn(t,e){return(Yn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xn(t);if(e){var o=Xn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kn(this,n)}}function Kn(t,e){return!e||"object"!==Qn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xn(t){return(Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qn(t){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}_n.add(38,(function(t){return t.pushChildScope()})),_n.add(39,(function(t){return t.popScope()})),_n.add(58,(function(t){return t.pushDynamicScope()})),_n.add(59,(function(t){return t.popDynamicScope()})),_n.add(28,(function(t,e){var n=e.op1;t.stack.pushJs(t[I].getValue(n))})),_n.add(29,(function(t,e){var n=e.op1,r=t.stack;if(function(t){return t>3}(n)){var o=t[I].getValue(n);r.pushJs(o)}else r.pushRaw(n)})),_n.add(30,(function(t){var e,n=t.stack,r=n.pop();e=void 0===r?Ge:null===r?$e:!0===r?Ye:!1===r?qe:We(r),n.pushJs(e)})),_n.add(32,(function(t,e){var n=e.op1,r=e.op2,o=t.fetchValue(n)-r;t.stack.dup(o)})),_n.add(33,(function(t,e){var n=e.op1;t.stack.pop(n)})),_n.add(34,(function(t,e){var n=e.op1;t.load(n)})),_n.add(35,(function(t,e){var n=e.op1;t.fetch(n)})),_n.add(57,(function(t,e){var n=e.op1,r=t[I].getArray(n);t.bindDynamicScope(r)})),_n.add(68,(function(t,e){var n=e.op1;t.enter(n)})),_n.add(69,(function(t){t.exit()})),_n.add(62,(function(t,e){var n=e.op1;t.stack.pushJs(t[I].getSerializable(n))})),_n.add(61,(function(t){t.stack.pushJs(t.scope())})),_n.add(60,(function(t){var e=t.stack,n=e.pop();n?e.pushSmallInt(t.compile(n)):e.pushNull()})),_n.add(63,(function(t){var e=t.stack,n=e.pop(),r=e.popJs(),o=e.popJs(),i=e.pop();if(null===o)return t.pushFrame(),void t.pushScope(r);var a=r,u=o.parameters,s=u.length;if(s>0){a=a.child();for(var c=0;c<s;c++)a.bindSymbol(u[c],i.at(c))}t.pushFrame(),t.pushScope(a),t.call(n)})),_n.add(64,(function(t,e){var n=e.op1,r=t.stack.popJs(),o=Boolean(Ze(r));Qe(r)?!0===o&&t.goto(n):(!0===o&&t.goto(n),t.updateWith(new Zn(r)))})),_n.add(65,(function(t,e){var n=e.op1,r=t.stack.popJs(),o=Boolean(Ze(r));Qe(r)?!1===o&&t.goto(n):(!1===o&&t.goto(n),t.updateWith(new Zn(r)))})),_n.add(66,(function(t,e){var n=e.op1,r=e.op2;t.stack.peekSmallInt()===r&&t.goto(n)})),_n.add(67,(function(t){var e=t.stack.peekJs();!1===Qe(e)&&t.updateWith(new Zn(e))})),_n.add(70,(function(t){var e=t.stack,n=e.popJs();e.pushJs(Xe((function(){return Y(Ze(n))})))}));var Zn=function(t){$n(n,t);var e=qn(n);function n(t){var r;return Fn(this,n),(r=e.call(this)).ref=t,r.type="assert",r.last=Ze(t),r}return Gn(n,[{key:"evaluate",value:function(t){this.last!==Ze(this.ref)&&t.throw()}}]),n}(Cn),tr=function(t){$n(n,t);var e=qn(n);function n(t,r){var o;return Fn(this,n),(o=e.call(this)).ref=t,o.filter=r,o.type="assert-filter",o.last=r(Ze(t)),o}return Gn(n,[{key:"evaluate",value:function(t){var e=this.last,n=this.ref;e!==(0,this.filter)(Ze(n))&&t.throw()}}]),n}(Cn),er=function(t){$n(n,t);var e=qn(n);function n(){var t;return Fn(this,n),(t=e.apply(this,arguments)).type="jump-if-not-modified",t.tag=je,t.lastRevision=1,t}return Gn(n,[{key:"finalize",value:function(t,e){this.target=e,this.didModify(t)}},{key:"evaluate",value:function(t){var e=this.tag,n=this.target,r=this.lastRevision;!t.alwaysRevalidate&&ke(e,r)&&(Be(e),t.goto(n))}},{key:"didModify",value:function(t){this.tag=t,this.lastRevision=ge(this.tag),Be(t)}}]),n}(Cn),nr=function(t){$n(n,t);var e=qn(n);function n(t){var r;return Fn(this,n),(r=e.call(this)).debugLabel=t,r.type="begin-track-frame",r}return Gn(n,[{key:"evaluate",value:function(){Le(this.debugLabel)}}]),n}(Cn),rr=function(t){$n(n,t);var e=qn(n);function n(t){var r;return Fn(this,n),(r=e.call(this)).target=t,r.type="end-track-frame",r}return Gn(n,[{key:"evaluate",value:function(){var t=De();this.target.didModify(t)}}]),n}(Cn);function or(t){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ir(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ar(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ur(t,e,n){return e&&ar(t.prototype,e),n&&ar(t,n),t}function sr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cr(t,e)}function cr(t,e){return(cr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pr(t);if(e){var o=pr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fr(this,n)}}function fr(t,e){return!e||"object"!==or(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pr(t){return(pr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}_n.add(40,(function(t,e){var n=e.op1;t.elements().appendText(t[I].getValue(n))})),_n.add(41,(function(t,e){var n=e.op1;t.elements().appendComment(t[I].getValue(n))})),_n.add(47,(function(t,e){var n=e.op1;t.elements().openElement(t[I].getValue(n))})),_n.add(48,(function(t){var e=Ze(t.stack.popJs());t.elements().openElement(e)})),_n.add(49,(function(t){var e=t.stack.popJs(),n=t.stack.popJs(),r=t.stack.popJs(),o=Ze(e),i=Ze(n),a=Ze(r);Qe(e)||t.updateWith(new Zn(e)),void 0===i||Qe(n)||t.updateWith(new Zn(n));var u=t.elements().pushRemoteElement(o,a,i);u&&t.associateDestroyable(u)})),_n.add(55,(function(t){t.elements().popRemoteElement()})),_n.add(53,(function(t){var e=t.fetchValue(6),n=null;e&&(n=e.flush(t),t.loadValue(6,null)),t.elements().flushElement(n)})),_n.add(54,(function(t){var e=t.elements().closeElement();e&&e.forEach((function(e){var n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return hr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hr(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),r=n[0],o=n[1];t.env.scheduleInstallModifier(o,r);var i=r.getDestroyable(o);i&&t.associateDestroyable(i)}))})),_n.add(56,(function(t,e){var n=e.op1,r=t.runtime.resolver.resolve(n),o=r.manager,i=r.state,a=t.stack.popJs(),u=t.elements(),s=u.constructing,c=u.updateOperations,l=t.dynamicScope(),f=o.create(s,i,a,l,c);t.fetchValue(6).addModifier(o,f);var p=o.getTag(f);null!==p&&(Be(p),t.updateWith(new yr(p,o,f)))}));var yr=function(t){sr(n,t);var e=lr(n);function n(t,r,o){var i;return ir(this,n),(i=e.call(this)).tag=t,i.manager=r,i.modifier=o,i.type="update-modifier",i.lastUpdated=ge(t),i}return ur(n,[{key:"evaluate",value:function(t){var e=this.manager,n=this.modifier,r=this.tag,o=this.lastUpdated;Be(r),ke(r,o)||(t.env.scheduleUpdateModifier(n,e),this.lastUpdated=ge(r))}}]),n}(Cn);_n.add(50,(function(t,e){var n=e.op1,r=e.op2,o=e.op3,i=t[I].getValue(n),a=t[I].getValue(r),u=o?t[I].getValue(o):null;t.elements().setStaticAttribute(i,a,u)})),_n.add(51,(function(t,e){var n=e.op1,r=e.op2,o=e.op3,i=t[I].getValue(n),a=t.stack.popJs(),u=Ze(a),s=o?t[I].getValue(o):null,c=t.elements().setDynamicAttribute(i,u,!!r,s);Qe(a)||t.updateWith(new vr(a,c))}));var vr=function(t){sr(n,t);var e=lr(n);function n(t,r){var o;return ir(this,n),(o=e.call(this)).reference=t,o.attribute=r,o.type="patch-element",o.lastValue=Ze(t),o}return ur(n,[{key:"evaluate",value:function(t){var e=this.attribute,n=this.reference,r=this.lastValue,o=Ze(n);o!==r&&(e.update(o,t.env),this.lastValue=o)}}]),n}(Cn);function dr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mr(t,e)}function mr(t,e){return(mr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function br(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kr(t);if(e){var o=kr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gr(this,n)}}function gr(t,e){return!e||"object"!==Er(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kr(t){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Or(t,e,n){return e&&Sr(t.prototype,e),n&&Sr(t,n),t}function Er(t){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ar(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jr=d("COMPONENT_INSTANCE");_n.add(76,(function(t,e){var n=e.op1,r=t.stack,o=r.popJs(),i=r.popJs(),a=t[I].getValue(n),u=t.runtime.resolver;t.loadValue(8,function(t,e,n,r){var o,i;return Xe((function(){var a=Ze(t);if(a===o)return i;var u=null;return Bn(a)?u=a:"string"==typeof a&&a&&(u=zn(e,a,n)),u=function(t,e){return!e&&Bn(t)?t:t?new Un(t,e):null}(u,r),o=a,i=u,u}))}(o,u,a,i))})),_n.add(77,(function(t,e){var n,r=e.op1,o=t.runtime.resolver.resolve(r),i=o.manager,a=Pn(i.getCapabilities(o.state)),u=(Ar(n={},jr,!0),Ar(n,"definition",o),Ar(n,"manager",i),Ar(n,"capabilities",a),Ar(n,"state",null),Ar(n,"handle",null),Ar(n,"table",null),Ar(n,"lookup",null),n);t.stack.pushJs(u)})),_n.add(80,(function(t,e){var n,r=e.op1,o=t.stack,i=Ze(o.popJs()),a=t[I].getValue(r);t.loadValue(7,null),n="string"==typeof i?zn(t.runtime.resolver,i,a):i,o.pushJs(n)})),_n.add(81,(function(t){var e=t.stack,n=Ze(e.popJs());t.loadValue(7,null),e.pushJs(n)})),_n.add(78,(function(t){var e,n,r=t.stack,o=r.pop();Bn(o)?n=e=null:e=Pn((n=o.manager).getCapabilities(o.state)),r.pushJs({definition:o,capabilities:e,manager:n,state:null,handle:null,table:null})})),_n.add(79,(function(t){var e,n=t.stack,r=Ze(n.popJs());if(!Bn(r))throw y();e=r,n.pushJs(e)})),_n.add(82,(function(t,n){var r=n.op1,o=n.op2,i=n.op3,a=t.stack,u=t[I].getArray(r),s=i>>4,c=8&i,l=7&i?t[I].getArray(o):e;t[L].setup(a,u,l,s,!!c),a.pushJs(t[L])})),_n.add(83,(function(t){var e=t.stack;e.pushJs(t[L].empty(e))})),_n.add(86,(function(t){var e=t.stack,n=e.popJs().capture();e.pushJs(n)})),_n.add(85,(function(t,e){var n=e.op1,r=t.stack,o=t.fetchValue(n),i=r.popJs(),a=o.definition;Bn(a)&&(a=function(t,e,n){var r=t.definition=Vn(e,n),o=r.manager,i=r.state;return t.manager=o,t.capabilities=Pn(o.getCapabilities(i)),r}(o,a,i));var u=a,s=u.manager,c=u.state;if(Mn(0,o.capabilities,4)){var l=i.blocks.values,f=i.blocks.names,p=s.prepareArgs(c,i);if(p){i.clear();for(var h=0;h<l.length;h++){var y=l[h];"number"==typeof y?r.pushSmallInt(y):r.pushJs(y)}for(var v=p.positional,d=p.named,m=v.length,b=0;b<m;b++)r.pushJs(v[b]);for(var g=Object.keys(d),k=0;k<g.length;k++)r.pushJs(d[g[k]]);i.setup(r,g,f,m,!1)}r.pushJs(i)}else r.pushJs(i)})),_n.add(87,(function(t,e){var n=e.op1,r=e.op2,o=t.fetchValue(r),i=o.definition,a=o.manager,u=o.capabilities=Pn(a.getCapabilities(i.state));if(Mn(0,u,512)){var s=null;Mn(0,u,64)&&(s=t.dynamicScope());var c=1&n,l=null;Mn(0,u,8)&&(l=t.stack.peekJs());var f=null;Mn(0,u,128)&&(f=t.getSelf());var p=a.create(t.env,i.state,l,s,f,!!c);o.state=p,Mn(0,u,256)&&t.updateWith(new Tr(p,a,s))}})),_n.add(88,(function(t,e){var n=e.op1,r=t.fetchValue(n),o=r.manager,i=r.state,a=(r.capabilities,o.getDestroyable(i));a&&t.associateDestroyable(a)})),_n.add(97,(function(t,e){e.op1,t.beginCacheGroup(undefined),t.elements().pushSimpleBlock()})),_n.add(89,(function(t){t.loadValue(6,new _r)})),_n.add(52,(function(t,e){var n=e.op1,r=e.op2,o=e.op3,i=t[I].getValue(n),a=t.stack.popJs(),u=o?t[I].getValue(o):null;t.fetchValue(6).setAttribute(i,a,!!r,u)})),_n.add(105,(function(t,e){var n=e.op1,r=e.op2,o=e.op3,i=t[I].getValue(n),a=t[I].getValue(r),u=o?t[I].getValue(o):null;t.fetchValue(6).setStaticAttribute(i,a,u)}));var _r=function(){function t(){wr(this,t),this.attributes=i(),this.classes=[],this.modifiers=[]}return Or(t,[{key:"setAttribute",value:function(t,e,n,r){var o={value:e,namespace:r,trusting:n};"class"===t&&this.classes.push(e),this.attributes[t]=o}},{key:"setStaticAttribute",value:function(t,e,n){var r={value:e,namespace:n};"class"===t&&this.classes.push(e),this.attributes[t]=r}},{key:"addModifier",value:function(t,e){this.modifiers.push([t,e])}},{key:"flush",value:function(t){var e,n=this.attributes;for(var r in this.attributes)if("type"!==r){var o=this.attributes[r];"class"===r?Rr(t,"class",Cr(this.classes),o.namespace,o.trusting):Rr(t,r,o.value,o.namespace,o.trusting)}else e=n[r];return void 0!==e&&Rr(t,"type",e.value,e.namespace,e.trusting),this.modifiers}}]),t}();function Cr(t){return 0===t.length?"":1===t.length?t[0]:function(t){for(var e=0;e<t.length;e++)if("string"!=typeof t[e])return!1;return!0}(t)?t.join(" "):(e=t,Xe((function(){for(var t=[],n=0;n<e.length;n++){var r=e[n],o=tt("string"==typeof r?r:Ze(e[n]));o&&t.push(o)}return 0===t.length?null:t.join(" ")})));var e}function Rr(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"==typeof n)t.elements().setStaticAttribute(e,n,r);else{var i=t.elements().setDynamicAttribute(e,Ze(n),o,r);Qe(n)||t.updateWith(new vr(n,i))}}function xr(t,e,n,r,o){var i=n.table.symbols.indexOf(t),a=r.get(e);-1!==i&&o.scope().bindBlock(i+1,a),n.lookup&&(n.lookup[t]=a)}_n.add(99,(function(t,e){var n=e.op1,r=t.fetchValue(n),o=r.definition,i=r.state,a=o.manager,u=t.fetchValue(6);a.didCreateElement(i,t.elements().constructing,u)})),_n.add(90,(function(t,e){var n=e.op1,r=t.fetchValue(n),o=r.definition,i=r.state,a=o.manager;t.stack.pushJs(a.getSelf(i))})),_n.add(91,(function(t,e){var n=e.op1,r=t.fetchValue(n),o=r.definition,i=r.state,a=o.manager.getTagName(i);t.stack.pushJs(a)})),_n.add(92,(function(t,e){var n,r=e.op1,o=t.fetchValue(r),i=o.manager,a=o.definition,u=t.stack,s=o.capabilities;if(function(t,e){return!Nn(t,1)}(s))n=i.getStaticLayout(a.state,t.runtime.resolver);else{var c=S(i.getDynamicLayout(o.state,t.runtime.resolver));n=Nn(s,1024)?c.asWrappedLayout():c.asLayout()}var l=n.compile(t.context);u.pushJs(n.symbolTable),u.pushSmallInt(l)})),_n.add(74,(function(t,e){var n,r=e.op1,o=t.stack.popJs(),i=t.stack.popJs(),a=o.manager,u=Pn(a.getCapabilities(o.state)),s=(Ar(n={},jr,!0),Ar(n,"definition",o),Ar(n,"manager",a),Ar(n,"capabilities",u),Ar(n,"state",null),Ar(n,"handle",i.handle),Ar(n,"table",i.symbolTable),Ar(n,"lookup",null),n);t.loadValue(r,s)})),_n.add(95,(function(t,e){var n=e.op1,r=t.stack,o=r.popSmallInt(),i=r.popJs(),a=t.fetchValue(n);a.handle=o,a.table=i})),_n.add(37,(function(t,e){var n=e.op1,r=t.fetchValue(n).table.symbols;t.pushRootScope(r.length+1)})),_n.add(94,(function(t,e){var n=e.op1,r=t.fetchValue(n);if(r.table.hasEval){var o=r.lookup=i();t.scope().bindEvalScope(o)}})),_n.add(17,(function(t,e){for(var n=e.op1,r=t.fetchValue(n),o=t.scope(),i=t.stack.peekJs(),a=i.named.atNames,u=a.length-1;u>=0;u--){var s=a[u],c=r.table.symbols.indexOf(a[u]),l=i.named.get(s,!0);-1!==c&&o.bindSymbol(c+1,l),r.lookup&&(r.lookup[s]=l)}})),_n.add(18,(function(t,e){for(var n=e.op1,r=t.fetchValue(n),o=t.stack.peekJs().blocks,i=0;i<o.names.length;i++)xr(o.symbolNames[i],o.names[i],r,o,t)})),_n.add(96,(function(t,e){var n=e.op1,r=t.fetchValue(n);t.call(r.handle)})),_n.add(100,(function(t,e){var n=e.op1,r=t.fetchValue(n),o=r.manager,i=r.state,a=r.capabilities,u=t.elements().popBlock();o.didRenderLayout(i,u),Mn(0,a,512)&&(t.env.didCreate(i,o),t.updateWith(new Pr(o,i,u)))})),_n.add(98,(function(t){t.commitCacheGroup()}));var Tr=function(t){dr(n,t);var e=br(n);function n(t,r,o){var i;return wr(this,n),(i=e.call(this)).component=t,i.manager=r,i.dynamicScope=o,i.type="update-component",i}return Or(n,[{key:"evaluate",value:function(t){var e=this.component,n=this.manager,r=this.dynamicScope;n.update(e,r)}}]),n}(Cn),Pr=function(t){dr(n,t);var e=br(n);function n(t,r,o){var i;return wr(this,n),(i=e.call(this)).manager=t,i.component=r,i.bounds=o,i.type="did-update-layout",i}return Or(n,[{key:"evaluate",value:function(t){var e=this.manager,n=this.component,r=this.bounds;e.didUpdateLayout(n,r),t.env.didUpdate(n,e)}}]),n}(Cn);function Mr(t){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ir(t,e){return(Ir=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lr(t,e){return!e||"object"!==Mr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dr(t){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Br=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ir(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Dr(r);if(o){var n=Dr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Lr(this,t)});function a(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this)).node=t,r.reference=e,r.lastValue=n,r.type="dynamic-text",r}return e=a,(n=[{key:"evaluate",value:function(){var t,e=Ze(this.reference),n=this.lastValue;e!==n&&(t=et(e)?"":ot(e)?e:String(e))!==n&&(this.node.nodeValue=this.lastValue=t)}}])&&Nr(e.prototype,n),a}(Cn);function Ur(t){return function(t){return ot(t)||et(t)||"boolean"==typeof t||"number"==typeof t}(t)?1:Bn(t)?0:nt(t)?3:function(t){return rt(t)&&11===t.nodeType}(t)?4:rt(t)?5:1}function Jr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}_n.add(75,(function(t){var e=t.stack.peek();t.stack.pushSmallInt(Ur(Ze(e))),Qe(e)||t.updateWith(new tr(e,Ur))})),_n.add(42,(function(t){var e=Ze(t.stack.popJs()),n=et(e)?"":String(e);t.elements().appendDynamicHTML(n)})),_n.add(43,(function(t){var e=Ze(t.stack.popJs()).toHTML(),n=et(e)?"":e;t.elements().appendDynamicHTML(n)})),_n.add(46,(function(t){var e=t.stack.popJs(),n=Ze(e),r=et(n)?"":String(n),o=t.elements().appendDynamicText(r);Qe(e)||t.updateWith(new Br(o,e,r))})),_n.add(44,(function(t){var e=Ze(t.stack.popJs());t.elements().appendDynamicFragment(e)})),_n.add(45,(function(t){var e=Ze(t.stack.popJs());t.elements().appendDynamicNode(e)}));var zr=function(t,e){console.info("Use `context`, and `get(<path>)` to debug this template."),e("this")},Hr=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scope=e,this.locals=i();for(var o=0;o<r.length;o++){var a=r[o],u=n[a-1],s=e.getSymbol(a);this.locals[u]=s}}var e,n;return e=t,(n=[{key:"get",value:function(t){var e,n=this.scope,r=this.locals,o=t.split("."),i=function(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Jr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split(".")),a=i[0],u=i.slice(1),s=n.getEvalScope();return"this"===a?e=n.getSelf():r[a]?e=r[a]:0===a.indexOf("@")&&s[a]?e=s[a]:(e=this.scope.getSelf(),u=o),u.reduce((function(t,e){return en(t,e)}),e)}}])&&Vr(e.prototype,n),t}();function Fr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}_n.add(103,(function(t,e){var n=e.op1,r=e.op2,o=t[I].getArray(n),i=t[I].getValue(r),a=new Hr(t.scope(),o,i);zr(Ze(t.getSelf()),(function(t){return Ze(a.get(t))}))})),_n.add(101,(function(t,e){var n=e.op1,r=e.op2,o=e.op3,i=t[I],a=Ze(t.stack.pop()),u=i.getValue(n),s=i.getArray(r),c=i.getValue(o),l=t.runtime.resolver.lookupPartial(a,u),f=t.runtime.resolver.resolve(l).getPartial(t.context),p=f.symbolTable,h=f.handle,y=p.symbols,v=t.scope(),d=t.pushRootScope(y.length),m=v.getEvalScope();d.bindEvalScope(m),d.bindSelf(v.getSelf());for(var b=Object.create(v.getPartialMap()),g=0;g<c.length;g++){var k=c[g],S=s[k-1],O=v.getSymbol(k);b[S]=O}if(m)for(var E=0;E<y.length;E++){var A=E+1,j=m[y[E]];void 0!==j&&d.bind(A,j)}d.bindPartialMap(b),t.pushFrame(),t.call(w(h))})),_n.add(71,(function(t,n){var r=n.op1,o=n.op2,i=t.stack,a=i.popJs(),u=Ze(i.popJs()),s=function(t,n){return Xe((function(){var r=Ze(t),o=function(t){switch(t){case"@key":return pn(un);case"@index":return pn(sn);case"@identity":return pn(cn);default:return e=t,pn((function(t){return X(t,e)}))}var e}(n);if(Array.isArray(r))return new vn(r,o);var i=$(r);return null===i?new vn(e,(function(){return null})):new yn(i,o)}))}(a,null===u?"@identity":String(u)),c=Ze(s);t.updateWith(new tr(s,(function(t){return t.isEmpty()}))),!0===c.isEmpty()?t.goto(o+1):(t.enterList(s,r),t.stack.pushJs(c))})),_n.add(72,(function(t){t.exitList()})),_n.add(73,(function(t,e){var n=e.op1,r=t.stack.peekJs().next();null!==r?t.registerItem(t.enterItem(r)):t.goto(n)})),new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"getCapabilities",value:function(t){return Hn}},{key:"getDebugName",value:function(){return""}},{key:"prepareArgs",value:function(t,e){throw new Error("Unimplemented prepareArgs in SimpleComponentManager")}},{key:"create",value:function(t,e,n,r,o,i){throw new Error("Unimplemented create in SimpleComponentManager")}},{key:"getSelf",value:function(t){return Ge}},{key:"didRenderLayout",value:function(t,e){throw new Error("Unimplemented didRenderLayout in SimpleComponentManager")}},{key:"didCreate",value:function(t){throw new Error("Unimplemented didCreate in SimpleComponentManager")}},{key:"update",value:function(t,e){throw new Error("Unimplemented update in SimpleComponentManager")}},{key:"didUpdateLayout",value:function(t,e){throw new Error("Unimplemented didUpdateLayout in SimpleComponentManager")}},{key:"didUpdate",value:function(t){throw new Error("Unimplemented didUpdate in SimpleComponentManager")}},{key:"getDestroyable",value:function(t){return null}}])&&Fr(e.prototype,n),t}());var Gr={foreignObject:1,desc:1,title:1},$r=Object.create(null),Yr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.document=e,this.setupUselessElement()}var e,n;return e=t,(n=[{key:"setupUselessElement",value:function(){this.uselessElement=this.document.createElement("div")}},{key:"createElement",value:function(t,e){var n,r;if(e?(n="http://www.w3.org/2000/svg"===e.namespaceURI||"svg"===t,r=!!Gr[e.tagName]):(n="svg"===t,r=!1),n&&!r){if($r[t])throw new Error("Cannot create a ".concat(t," inside an SVG context"));return this.document.createElementNS("http://www.w3.org/2000/svg",t)}return this.document.createElement(t)}},{key:"insertBefore",value:function(t,e,n){t.insertBefore(e,n)}},{key:"insertHTMLBefore",value:function(t,e,n){if(""===n){var r=this.createComment("");return t.insertBefore(r,e),new V(t,r,r)}var o,i=e?e.previousSibling:t.lastChild;if(null===e)t.insertAdjacentHTML("beforeend",n),o=t.lastChild;else if(e instanceof HTMLElement)e.insertAdjacentHTML("beforebegin",n),o=e.previousSibling;else{var a=this.uselessElement;t.insertBefore(a,e),a.insertAdjacentHTML("beforebegin",n),o=a.previousSibling,t.removeChild(a)}var u=i?i.nextSibling:t.firstChild;return new V(t,u,o)}},{key:"createTextNode",value:function(t){return this.document.createTextNode(t)}},{key:"createComment",value:function(t){return this.document.createComment(t)}}])&&Wr(e.prototype,n),t}();function qr(t){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qr(t,e,n){return(Qr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=eo(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Zr(t,e){return(Zr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function to(t,e){return!e||"object"!==qr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eo(t){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function no(t,e,n){if(!t)return e;if(!function(t,e){var n=t.createElementNS(e,"svg");try{n.insertAdjacentHTML("beforeend","<circle></circle>")}catch(t){}finally{return 1!==n.childNodes.length||"http://www.w3.org/2000/svg"!==n.firstChild.namespaceURI}}(t,n))return e;var r=t.createElement("div");return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zr(t,e)}(s,t);var e,o,i,a,u=(i=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=eo(i);if(a){var n=eo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return to(this,t)});function s(){return Kr(this,s),u.apply(this,arguments)}return e=s,(o=[{key:"insertHTMLBefore",value:function(t,e,o){return""===o||t.namespaceURI!==n?Qr(eo(s.prototype),"insertHTMLBefore",this).call(this,t,e,o):function(t,e,n,r){var o;if("FOREIGNOBJECT"===t.tagName.toUpperCase()){var i="<svg><foreignObject>"+n+"</foreignObject></svg>";c(e),e.insertAdjacentHTML("afterbegin",i),o=e.firstChild.firstChild}else{var a="<svg>"+n+"</svg>";c(e),e.insertAdjacentHTML("afterbegin",a),o=e.firstChild}return function(t,e,n){for(var r=t.firstChild,o=r,i=r;i;){var a=i.nextSibling;e.insertBefore(i,n),o=i,i=a}return new V(e,r,o)}(o,t,r)}(t,r,o,e)}}])&&Xr(e.prototype,o),s}(e)}function ro(t){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function io(t,e,n){return(io="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=so(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ao(t,e){return(ao=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uo(t,e){return!e||"object"!==ro(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function so(t){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function co(t,e){return t&&function(t){var e=t.createElement("div");return e.appendChild(t.createTextNode("first")),e.insertAdjacentHTML("beforeend","second"),2!==e.childNodes.length}(t)?function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ao(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=so(r);if(o){var n=so(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return uo(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).uselessComment=t.createComment(""),e}return e=a,(n=[{key:"insertHTMLBefore",value:function(t,e,n){if(""===n)return io(so(a.prototype),"insertHTMLBefore",this).call(this,t,e,n);var r=!1,o=e?e.previousSibling:t.lastChild;o&&o instanceof Text&&(r=!0,t.insertBefore(this.uselessComment,e));var i=io(so(a.prototype),"insertHTMLBefore",this).call(this,t,e,n);return r&&t.removeChild(this.uselessComment),i}}])&&oo(e.prototype,n),a}(e):e}function lo(t){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function po(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ho(t,e,n){return e&&po(t.prototype,e),n&&po(t,n),t}function yo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vo(t,e)}function vo(t,e){return(vo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=go(t);if(e){var o=go(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bo(this,n)}}function bo(t,e){return!e||"object"!==lo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function go(t){return(go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}["b","big","blockquote","body","br","center","code","dd","div","dl","dt","em","embed","h1","h2","h3","h4","h5","h6","head","hr","i","img","li","listing","main","meta","nobr","ol","p","pre","ruby","s","small","span","strong","strike","sub","sup","table","tt","u","ul","var"].forEach((function(t){return $r[t]=1}));var ko,wo="undefined"==typeof document?null:document;!function(t){var e=function(t){yo(n,t);var e=mo(n);function n(){return fo(this,n),e.apply(this,arguments)}return ho(n,[{key:"createElementNS",value:function(t,e){return this.document.createElementNS(t,e)}},{key:"setAttribute",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}}]),n}(Yr);t.TreeConstruction=e;var n=e;n=co(wo,n),n=no(wo,n,"http://www.w3.org/2000/svg"),t.DOMTreeConstruction=n}(ko||(ko={}));var So=function(t){yo(n,t);var e=mo(n);function n(t){var r;return fo(this,n),(r=e.call(this,t)).document=t,r.namespace=null,r}return ho(n,[{key:"setAttribute",value:function(t,e,n){t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e){t.removeAttribute(e)}},{key:"insertAfter",value:function(t,e,n){this.insertBefore(t,e,n.nextSibling)}}]),n}(Yr),Oo=So;Oo=co(wo,Oo),Oo=no(wo,Oo,"http://www.w3.org/2000/svg");var Eo=ko.DOMTreeConstruction;function Ao(t){return(Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _o(t,e){return(_o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Co(t,e){return!e||"object"!==Ao(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ro(t){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function To(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Po(t,e,n){return e&&To(t.prototype,e),n&&To(t,n),t}var Mo=Object.freeze([]),No=m(Mo),Io=No.indexOf(Mo),Lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_o(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Ro(e);if(n){var o=Ro(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Co(this,t)});function o(){var t;return xo(this,o),(t=r.apply(this,arguments)).reifiedArrs=jo({},Io,Mo),t}return Po(o,[{key:"templateMeta",value:function(t){return this.value(t)}},{key:"getValue",value:function(t){return this.values[t]}},{key:"getArray",value:function(t){var e=this.reifiedArrs,n=e[t];if(void 0===n){var r=this.getValue(t);n=new Array(r.length);for(var o=0;o<r.length;o++)n[o]=this.getValue(r[o]);e[t]=n}return n}},{key:"getSerializable",value:function(t){return JSON.parse(this.getValue(t))}}]),o}(function(){function t(){xo(this,t),this.values=No.slice(),this.indexMap=new Map(this.values.map((function(t,e){return[t,e]})))}return Po(t,[{key:"value",value:function(t){var e=this.indexMap,n=e.get(t);return void 0===n&&(n=this.values.push(t)-1,e.set(t,n)),n}},{key:"array",value:function(t){if(0===t.length)return Io;for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=this.value(t[n]);return this.value(e)}},{key:"serializable",value:function(t){var e=JSON.stringify(t);return this.value(e)}},{key:"toPool",value:function(){return this.values}}]),t}());function Do(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Bo=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.heap=e,this.offset=0}var e,n;return e=t,(n=[{key:"size",get:function(){return 1+((768&this.heap.getbyaddr(this.offset))>>8)}},{key:"isMachine",get:function(){return 1024&this.heap.getbyaddr(this.offset)?1:0}},{key:"type",get:function(){return 255&this.heap.getbyaddr(this.offset)}},{key:"op1",get:function(){return this.heap.getbyaddr(this.offset+1)}},{key:"op2",get:function(){return this.heap.getbyaddr(this.offset+2)}},{key:"op3",get:function(){return this.heap.getbyaddr(this.offset+3)}}])&&Do(e.prototype,n),t}();function Uo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Jo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jo(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ho(t,e,n){return e&&zo(t.prototype,e),n&&zo(t,n),t}function Fo(t,e){return e|t<<2}function Wo(t,e){return t|e<<30}var Go,$o=1048576,Yo=function(){function t(){Vo(this,t),this.placeholders=[],this.stdlibs=[],this.offset=0,this.handle=0,this.capacity=$o,this.heap=new Int32Array($o),this.table=[]}return Ho(t,[{key:"push",value:function(t){this.sizeCheck(),this.heap[this.offset++]=t}},{key:"sizeCheck",value:function(){if(0===this.capacity){var t=Ko(this.heap,0,this.offset);this.heap=new Int32Array(t.length+$o),this.heap.set(t,0),this.capacity=$o}this.capacity--}},{key:"getbyaddr",value:function(t){return this.heap[t]}},{key:"setbyaddr",value:function(t,e){this.heap[t]=e}},{key:"malloc",value:function(){this.table.push(this.offset,0,0);var t=this.handle;return this.handle+=3,t}},{key:"finishMalloc",value:function(t,e){this.table[t+1]=Fo(e,0)}},{key:"size",value:function(){return this.offset}},{key:"getaddr",value:function(t){return this.table[t]}},{key:"gethandle",value:function(t){this.table.push(t,Fo(0,3),0);var e=this.handle;return this.handle+=3,e}},{key:"sizeof",value:function(t){return this.table,-1}},{key:"scopesizeof",value:function(t){return function(t,e){return t[e+1]>>2}(this.table,t)}},{key:"free",value:function(t){var e=this.table[t+1];this.table[t+1]=Wo(e,1)}},{key:"compact",value:function(){for(var t=0,e=this.table,n=this.table.length,r=this.heap,o=0;o<n;o+=3){var i=e[o],a=e[o+1],u=a&Size.SIZE_MASK,s=0&a;if(2!==s)if(1===s)e[o+1]=Wo(a,2),t+=u;else if(0===s){for(var c=i;c<=o+u;c++)r[c-t]=r[c];e[o]=i-t}else 3===s&&(e[o]=i-t)}this.offset=this.offset-t}},{key:"pushPlaceholder",value:function(t){this.sizeCheck();var e=this.offset++;this.heap[e]=2147483647,this.placeholders.push([e,t])}},{key:"pushStdlib",value:function(t){this.sizeCheck();var e=this.offset++;this.heap[e]=2147483647,this.stdlibs.push([e,t])}},{key:"patchPlaceholders",value:function(){for(var t=this.placeholders,e=0;e<t.length;e++){var n=Uo(t[e],2),r=n[0],o=n[1];this.setbyaddr(r,o())}}},{key:"patchStdlibs",value:function(t){for(var e=this.stdlibs,n=0;n<e.length;n++){var r=Uo(e[n],2),o=r[0],i=r[1].value;this.setbyaddr(o,t[i])}this.stdlibs=[]}},{key:"capture",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset;this.patchPlaceholders(),this.patchStdlibs(t);var n=Ko(this.heap,0,e).buffer;return{handle:this.handle,table:this.table,buffer:n}}}]),t}(),qo=function(){function t(e,n){Vo(this,t),this.constants=e,this.heap=n,this._opcode=new Bo(this.heap)}return Ho(t,[{key:"opcode",value:function(t){return this._opcode.offset=t,this._opcode}}]),t}();function Ko(t,e,n){if(void 0!==t.slice)return t.slice(e,n);for(var r=new Int32Array(n);e<n;e++)r[e]=t[e];return r}function Xo(t){t.heap.patchStdlibs(t.stdlib)}function Qo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ti(t,e,n){return e&&Zo(t.prototype,e),n&&Zo(t,n),t}var ei=d("TRANSACTION"),ni=function(){function t(){Qo(this,t),this.scheduledInstallManagers=[],this.scheduledInstallModifiers=[],this.scheduledUpdateModifierManagers=[],this.scheduledUpdateModifiers=[],this.createdComponents=[],this.createdManagers=[],this.updatedComponents=[],this.updatedManagers=[]}return ti(t,[{key:"didCreate",value:function(t,e){this.createdComponents.push(t),this.createdManagers.push(e)}},{key:"didUpdate",value:function(t,e){this.updatedComponents.push(t),this.updatedManagers.push(e)}},{key:"scheduleInstallModifier",value:function(t,e){this.scheduledInstallModifiers.push(t),this.scheduledInstallManagers.push(e)}},{key:"scheduleUpdateModifier",value:function(t,e){this.scheduledUpdateModifiers.push(t),this.scheduledUpdateModifierManagers.push(e)}},{key:"commit",value:function(){for(var t=this.createdComponents,e=this.createdManagers,n=0;n<t.length;n++){var r=t[n];e[n].didCreate(r)}for(var o=this.updatedComponents,i=this.updatedManagers,a=0;a<o.length;a++){var u=o[a];i[a].didUpdate(u)}for(var s,c,l=this.scheduledInstallManagers,f=this.scheduledInstallModifiers,p=0;p<l.length;p++){c=f[p];var h=(s=l[p]).getTag(c);if(null!==h){var y=Ue((function(){return s.install(c)}));Ee(h,y)}else s.install(c)}for(var v=this.scheduledUpdateModifierManagers,d=this.scheduledUpdateModifiers,m=0;m<v.length;m++){c=d[m];var b=(s=v[m]).getTag(c);if(null!==b){var g=Ue((function(){return s.update(c)}));Ee(b,g)}else s.update(c)}}}]),t}(),ri=function(){function t(e,n){Qo(this,t),this.delegate=n,this[Go]=null,this.extra=this.delegate.extra,this.isInteractive=this.delegate.isInteractive,e.appendOperations?(this.appendOperations=e.appendOperations,this.updateOperations=e.updateOperations):e.document&&(this.appendOperations=new Eo(e.document),this.updateOperations=new So(e.document))}return ti(t,[{key:"getAppendOperations",value:function(){return this.appendOperations}},{key:"getDOM",value:function(){return this.updateOperations}},{key:"begin",value:function(){this.delegate.onTransactionBegin(),this[ei]=new ni}},{key:"didCreate",value:function(t,e){this.transaction.didCreate(t,e)}},{key:"didUpdate",value:function(t,e){this.transaction.didUpdate(t,e)}},{key:"scheduleInstallModifier",value:function(t,e){this.isInteractive&&this.transaction.scheduleInstallModifier(t,e)}},{key:"scheduleUpdateModifier",value:function(t,e){this.isInteractive&&this.transaction.scheduleUpdateModifier(t,e)}},{key:"commit",value:function(){var t=this.transaction;this[ei]=null,t.commit(),this.delegate.onTransactionCommit()}},{key:"transaction",get:function(){return this[ei]}}]),t}();function oi(t,e,n,r){return{env:new ri(t,e),program:new qo(n.constants,n.heap),resolver:r}}function ii(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ai(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ui(t,e,n){return e&&ai(t.prototype,e),n&&ai(t,n),t}Go=ei;var si=function(){function t(){ii(this,t),this.stack=null,this.positional=new ci,this.named=new li,this.blocks=new pi}return ui(t,[{key:"empty",value:function(t){var e=t[M][3]+1;return this.named.empty(t,e),this.positional.empty(t,e),this.blocks.empty(t,e),this}},{key:"setup",value:function(t,e,n,r,o){this.stack=t;var i=this.named,a=e.length,u=t[M][3]-a+1;i.setup(t,u,a,e,o);var s=u-r;this.positional.setup(t,s,r);var c=this.blocks,l=n.length,f=s-3*l;c.setup(t,f,l,n)}},{key:"at",value:function(t){return this.positional.at(t)}},{key:"realloc",value:function(t){var e=this.stack;if(t>0&&null!==e){for(var n=this.positional,r=this.named,o=n.base+t,i=n.length+r.length-1;i>=0;i--)e.copy(i+n.base,i+o);n.base+=t,r.base+=t,e[M][3]+=t}}},{key:"capture",value:function(){var t=0===this.positional.length?vi:this.positional.capture();return{named:0===this.named.length?yi:this.named.capture(),positional:t}}},{key:"clear",value:function(){var t=this.stack,e=this.length;e>0&&null!==t&&t.pop(e)}},{key:"base",get:function(){return this.blocks.base}},{key:"length",get:function(){return this.positional.length+this.named.length+3*this.blocks.length}}]),t}(),ci=function(){function t(){ii(this,t),this.base=0,this.length=0,this.stack=null,this._references=null}return ui(t,[{key:"empty",value:function(t,n){this.stack=t,this.base=n,this.length=0,this._references=e}},{key:"setup",value:function(t,n,r){this.stack=t,this.base=n,this.length=r,this._references=0===r?e:null}},{key:"at",value:function(t){var e=this.base,n=this.length,r=this.stack;return t<0||t>=n?Ge:r.get(t,e)}},{key:"capture",value:function(){return this.references}},{key:"prepend",value:function(t){var e=t.length;if(e>0){var n=this.base,r=this.length,o=this.stack;this.base=n-=e,this.length=r+e;for(var i=0;i<e;i++)o.set(t[i],i,n);this._references=null}}},{key:"references",get:function(){var t=this._references;if(!t){var e=this.stack,n=this.base,r=this.length;t=this._references=e.slice(n,n+r)}return t}}]),t}(),li=function(){function t(){ii(this,t),this.base=0,this.length=0,this._references=null,this._names=e,this._atNames=e}return ui(t,[{key:"empty",value:function(t,n){this.stack=t,this.base=n,this.length=0,this._references=e,this._names=e,this._atNames=e}},{key:"setup",value:function(t,n,r,o,i){this.stack=t,this.base=n,this.length=r,0===r?(this._references=e,this._names=e,this._atNames=e):(this._references=null,i?(this._names=null,this._atNames=o):(this._names=o,this._atNames=null))}},{key:"has",value:function(t){return-1!==this.names.indexOf(t)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.base,r=this.stack,o=e?this.atNames:this.names,i=o.indexOf(t);if(-1===i)return Ge;var a=r.get(i,n);return a}},{key:"capture",value:function(){for(var t=this.names,e=this.references,n=i(),r=0;r<t.length;r++){n[t[r]]=e[r]}return n}},{key:"merge",value:function(t){var e=Object.keys(t);if(e.length>0){for(var n=this.names,r=this.length,o=this.stack,i=n.slice(),a=0;a<e.length;a++){var u=e[a];-1===i.indexOf(u)&&(r=i.push(u),o.pushJs(t[u]))}this.length=r,this._references=null,this._names=i,this._atNames=null}}},{key:"toSyntheticName",value:function(t){return t.slice(1)}},{key:"toAtName",value:function(t){return"@".concat(t)}},{key:"names",get:function(){var t=this._names;return t||(t=this._names=this._atNames.map(this.toSyntheticName)),t}},{key:"atNames",get:function(){var t=this._atNames;return t||(t=this._atNames=this._names.map(this.toAtName)),t}},{key:"references",get:function(){var t=this._references;if(!t){var e=this.base,n=this.length,r=this.stack;t=this._references=r.slice(e,e+n)}return t}}]),t}();function fi(t){return"&".concat(t)}var pi=function(){function t(){ii(this,t),this.internalValues=null,this._symbolNames=null,this.internalTag=null,this.names=e,this.length=0,this.base=0}return ui(t,[{key:"empty",value:function(t,n){this.stack=t,this.names=e,this.base=n,this.length=0,this._symbolNames=null,this.internalTag=je,this.internalValues=e}},{key:"setup",value:function(t,n,r,o){this.stack=t,this.names=o,this.base=n,this.length=r,this._symbolNames=null,0===r?(this.internalTag=je,this.internalValues=e):(this.internalTag=null,this.internalValues=null)}},{key:"has",value:function(t){return-1!==this.names.indexOf(t)}},{key:"get",value:function(t){var e=this.names.indexOf(t);if(-1===e)return null;var n=this.base,r=this.stack,o=r.get(3*e,n),i=r.get(3*e+1,n),a=r.get(3*e+2,n);return null===a?null:[a,i,o]}},{key:"capture",value:function(){return new hi(this.names,this.values)}},{key:"values",get:function(){var t=this.internalValues;if(!t){var e=this.base,n=this.length,r=this.stack;t=this.internalValues=r.slice(e,e+3*n)}return t}},{key:"symbolNames",get:function(){var t=this._symbolNames;return null===t&&(t=this._symbolNames=this.names.map(fi)),t}}]),t}(),hi=function(){function t(e,n){ii(this,t),this.names=e,this.values=n,this.length=e.length}return ui(t,[{key:"has",value:function(t){return-1!==this.names.indexOf(t)}},{key:"get",value:function(t){var e=this.names.indexOf(t);return-1===e?null:[this.values[3*e+2],this.values[3*e+1],this.values[3*e]]}}]),t}();var yi=Object.freeze(Object.create(null)),vi=e;function di(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var mi=function(){function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stack=e,this.heap=n,this.program=r,this.externs=o,this.registers=i,this.currentOpSize=0}var e,n;return e=t,(n=[{key:"fetchRegister",value:function(t){return this.registers[t]}},{key:"loadRegister",value:function(t,e){this.registers[t]=e}},{key:"setPc",value:function(t){this.registers[0]=t}},{key:"pushFrame",value:function(){this.stack.pushSmallInt(this.registers[1]),this.stack.pushSmallInt(this.registers[2]),this.registers[2]=this.registers[3]-1}},{key:"popFrame",value:function(){this.registers[3]=this.registers[2]-1,this.registers[1]=this.stack.get(0),this.registers[2]=this.stack.get(1)}},{key:"pushSmallFrame",value:function(){this.stack.pushSmallInt(this.registers[1])}},{key:"popSmallFrame",value:function(){this.registers[1]=this.stack.popSmallInt()}},{key:"goto",value:function(t){this.setPc(this.target(t))}},{key:"target",value:function(t){return this.registers[0]+t-this.currentOpSize}},{key:"call",value:function(t){this.registers[1]=this.registers[0],this.setPc(this.heap.getaddr(t))}},{key:"returnTo",value:function(t){this.registers[1]=this.target(t)}},{key:"return",value:function(){this.setPc(this.registers[1])}},{key:"nextStatement",value:function(){var t=this.registers,e=this.program,n=t[0];if(-1===n)return null;var r=e.opcode(n),o=this.currentOpSize=r.size;return this.registers[0]+=o,r}},{key:"evaluateOuter",value:function(t,e){this.evaluateInner(t,e)}},{key:"evaluateInner",value:function(t,e){t.isMachine?this.evaluateMachine(t):this.evaluateSyscall(t,e)}},{key:"evaluateMachine",value:function(t){switch(t.type){case 0:return this.pushFrame();case 1:return this.popFrame();case 3:return this.call(t.op1);case 2:return this.call(this.stack.popSmallInt());case 4:return this.goto(t.op1);case 5:return this.return();case 6:return this.returnTo(t.op1)}}},{key:"evaluateSyscall",value:function(t,e){_n.evaluate(e,t,t.type)}}])&&di(e.prototype,n),t}();function bi(t){return(bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gi(t,e,n){return(gi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ei(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ki(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wi(t,e)}function wi(t,e){return(wi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Si(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ei(t);if(e){var o=Ei(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oi(this,n)}}function Oi(t,e){return!e||"object"!==bi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ei(t){return(Ei=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ai(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ji(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _i(t,e,n){return e&&ji(t.prototype,e),n&&ji(t,n),t}var Ci=function(){function t(e,n){var r=n.alwaysRevalidate,o=void 0!==r&&r;Ai(this,t),this.frameStack=new s,this.env=e,this.dom=e.getDOM(),this.alwaysRevalidate=o}return _i(t,[{key:"execute",value:function(t,e){this._execute(t,e)}},{key:"_execute",value:function(t,e){var n=this.frameStack;for(this.try(t,e);!n.isEmpty();){var r=this.frame.nextStatement();void 0!==r?r.evaluate(this):n.pop()}}},{key:"goto",value:function(t){this.frame.goto(t)}},{key:"try",value:function(t,e){this.frameStack.push(new Ni(t,e))}},{key:"throw",value:function(){this.frame.handleException(),this.frameStack.pop()}},{key:"frame",get:function(){return this.frameStack.current}}]),t}(),Ri=function(){function t(e,n){Ai(this,t),this.state=e,this.resumeCallback=n}return _i(t,[{key:"resume",value:function(t,e){return this.resumeCallback(t,this.state,e)}}]),t}(),xi=function(t){ki(n,t);var e=Si(n);function n(t,r,o,i){var a;return Ai(this,n),(a=e.call(this)).state=t,a.runtime=r,a.type="block",a.children=i,a.bounds=o,a}return _i(n,[{key:"parentElement",value:function(){return this.bounds.parentElement()}},{key:"firstNode",value:function(){return this.bounds.firstNode()}},{key:"lastNode",value:function(){return this.bounds.lastNode()}},{key:"evaluate",value:function(t){t.try(this.children,null)}}]),n}(Cn),Ti=function(t){ki(n,t);var e=Si(n);function n(){var t;return Ai(this,n),(t=e.apply(this,arguments)).type="try",t}return _i(n,[{key:"evaluate",value:function(t){t.try(this.children,this)}},{key:"handleException",value:function(){var t=this,e=this.state,n=this.bounds,r=this.runtime;zt(Ht(this).children,Gt);var o=ae.resume(r.env,n),i=e.resume(r,o),a=[],u=this.children=[];Ft(this,i.execute((function(e){e.pushUpdating(a),e.updateWith(t),e.pushUpdating(u)})).drop)}}]),n}(xi),Pi=function(t){ki(n,t);var e=Si(n);function n(t,r,o,i,a,u){var s;return Ai(this,n),(s=e.call(this,t,r,o,[])).key=i,s.memo=a,s.value=u,s.retained=!1,s.index=-1,s}return _i(n,[{key:"updateReferences",value:function(t){this.retained=!0,tn(this.value,t.value),tn(this.memo,t.memo)}},{key:"shouldRemove",value:function(){return!this.retained}},{key:"reset",value:function(){this.retained=!1}}]),n}(Ti),Mi=function(t){ki(n,t);var e=Si(n);function n(t,r,o,i,a){var u;return Ai(this,n),(u=e.call(this,t,r,o,i)).iterableRef=a,u.type="list-block",u.opcodeMap=new Map,u.marker=null,u.lastIterator=Ze(a),u}return _i(n,[{key:"initializeChild",value:function(t){t.index=this.children.length-1,this.opcodeMap.set(t.key,t)}},{key:"evaluate",value:function(t){var e=Ze(this.iterableRef);if(this.lastIterator!==e){var r=this.bounds,o=t.dom,i=this.marker=o.createComment("");o.insertAfter(r.parentElement(),i,r.lastNode()),this.sync(e),this.parentElement().removeChild(i),this.marker=null,this.lastIterator=e}gi(Ei(n.prototype),"evaluate",this).call(this,t)}},{key:"sync",value:function(t){var e=this.opcodeMap,n=this.children,r=0,o=0;for(this.children=this.bounds.boundList=[];;){var i=t.next();if(null===i)break;for(var a=n[r],u=i.key;void 0!==a&&!0===a.retained;)a=n[++r];if(void 0!==a&&a.key===u)this.retainItem(a,i),r++;else if(e.has(u)){var s=e.get(u);if(s.index<o)this.moveItem(s,i,a);else{o=s.index;for(var c=!1,l=r+1;l<o;l++)if(!1===n[l].retained){c=!0;break}!1===c?(this.retainItem(s,i),r=o+1):(this.moveItem(s,i,a),r++)}}else this.insertItem(i,a)}for(var f=0;f<n.length;f++){var p=n[f];!1===p.retained?this.deleteItem(p):p.reset()}}},{key:"retainItem",value:function(t,e){var n=this.children;tn(t.memo,e.memo),tn(t.value,e.value),t.retained=!0,t.index=n.length,n.push(t)}},{key:"insertItem",value:function(t,e){var n=this,r=this.opcodeMap,o=this.bounds,i=this.state,a=this.runtime,u=this.children,s=t.key,c=void 0===e?this.marker:e.firstNode(),l=ae.forInitialRender(a.env,{element:o.parentElement(),nextSibling:c});i.resume(a,l).execute((function(e){e.pushUpdating();var o=e.enterItem(t);o.index=u.length,u.push(o),r.set(s,o),Ft(n,o)}))}},{key:"moveItem",value:function(t,e,n){var r,o=this.children;tn(t.memo,e.memo),tn(t.value,e.value),t.retained=!0,void 0===n?H(t,this.marker):t.lastNode().nextSibling!==(r=n.firstNode())&&H(t,r),t.index=o.length,o.push(t)}},{key:"deleteItem",value:function(t){Gt(t),F(t),this.opcodeMap.delete(t.key)}}]),n}(xi),Ni=function(){function t(e,n){Ai(this,t),this.ops=e,this.exceptionHandler=n,this.current=0}return _i(t,[{key:"goto",value:function(t){this.current=t}},{key:"nextStatement",value:function(){return this.ops[this.current++]}},{key:"handleException",value:function(){this.exceptionHandler&&this.exceptionHandler.handleException()}}]),t}();function Ii(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Li=function(){function t(e,n,r,o){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.env=e,this.updating=n,this.bounds=r,this.drop=o,Ft(this,o),Wt(this,(function(){return F(i.bounds)}))}var e,n;return e=t,(n=[{key:"rerender",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{alwaysRevalidate:!1},e=t.alwaysRevalidate,n=void 0!==e&&e,r=this.env,o=this.updating,i=new Ci(r,{alwaysRevalidate:n});i.execute(o,this)}},{key:"parentElement",value:function(){return this.bounds.parentElement()}},{key:"firstNode",value:function(){return this.bounds.firstNode()}},{key:"lastNode",value:function(){return this.bounds.lastNode()}},{key:"handleException",value:function(){throw"this should never happen"}}])&&Ii(e.prototype,n),t}();function Di(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ui=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Di(this,t),this.vec=e}var e,n;return e=t,(n=[{key:"clone",value:function(){return new t(this.vec.slice())}},{key:"sliceFrom",value:function(e){return new t(this.vec.slice(e))}},{key:"slice",value:function(e,n){return new t(this.vec.slice(e,n))}},{key:"copy",value:function(t,e){this.vec[e]=this.vec[t]}},{key:"writeRaw",value:function(t,e){this.vec[t]=e}},{key:"getRaw",value:function(t){return this.vec[t]}},{key:"reset",value:function(){this.vec.length=0}},{key:"len",value:function(){return this.vec.length}}])&&Bi(e.prototype,n),t}();function Ji(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zi(t,e,n){return e&&Vi(t.prototype,e),n&&Vi(t,n),t}var Hi,Fi,Wi=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ui,n=arguments.length>1?arguments[1]:void 0;Ji(this,t),this.inner=e,this.js=m(),void 0!==n&&(this.js=this.js.concat(n))}return zi(t,[{key:"slice",value:function(t,e){var n=[];if(-1===t)return n;for(var r=t;r<e;r++)n.push(this.get(r));return n}},{key:"copy",value:function(t,e){this.inner.copy(t,e)}},{key:"writeJs",value:function(t,e){var n=this.js.length;this.js.push(e),this.inner.writeRaw(t,n)}},{key:"writeSmallInt",value:function(t,e){this.inner.writeRaw(t,g(e))}},{key:"writeTrue",value:function(t){this.inner.writeRaw(t,1)}},{key:"writeFalse",value:function(t){this.inner.writeRaw(t,0)}},{key:"writeNull",value:function(t){this.inner.writeRaw(t,2)}},{key:"writeUndefined",value:function(t){this.inner.writeRaw(t,3)}},{key:"writeRaw",value:function(t,e){this.inner.writeRaw(t,e)}},{key:"getJs",value:function(t){var e=this.inner.getRaw(t);return this.js[e]}},{key:"getSmallInt",value:function(t){return k(this.inner.getRaw(t))}},{key:"get",value:function(t){var e=0|this.inner.getRaw(t);return function(t){return t>=0}(e)?this.js[e]:k(e)}},{key:"reset",value:function(){this.inner.reset(),this.js.length=0}},{key:"length",get:function(){return this.inner.len()}}]),t}(),Gi=function(){function t(e,n){Ji(this,t),this.stack=e,this[M]=n}return zi(t,[{key:"pushJs",value:function(t){this.stack.writeJs(++this[M][3],t)}},{key:"pushSmallInt",value:function(t){this.stack.writeSmallInt(++this[M][3],t)}},{key:"pushTrue",value:function(){this.stack.writeTrue(++this[M][3])}},{key:"pushFalse",value:function(){this.stack.writeFalse(++this[M][3])}},{key:"pushNull",value:function(){this.stack.writeNull(++this[M][3])}},{key:"pushUndefined",value:function(){this.stack.writeUndefined(++this[M][3])}},{key:"pushRaw",value:function(t){this.stack.writeRaw(++this[M][3],t)}},{key:"dup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[M][3];this.stack.copy(t,++this[M][3])}},{key:"copy",value:function(t,e){this.stack.copy(t,e)}},{key:"popJs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.stack.getJs(this[M][3]);return this[M][3]-=t,e}},{key:"popSmallInt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.stack.getSmallInt(this[M][3]);return this[M][3]-=t,e}},{key:"pop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.stack.get(this[M][3]);return this[M][3]-=t,e}},{key:"peekJs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.stack.getJs(this[M][3]-t)}},{key:"peekSmallInt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.stack.getSmallInt(this[M][3]-t)}},{key:"peek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.stack.get(this[M][3]-t)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[M][2];return this.stack.get(e+t)}},{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this[M][2];this.stack.writeJs(n+e,t)}},{key:"slice",value:function(t,e){return this.stack.slice(t,e)}},{key:"capture",value:function(t){var e=this[M][3]+1,n=e-t;return this.stack.slice(n,e)}},{key:"reset",value:function(){this.stack.reset()}},{key:"toArray",value:function(){return console.log(this[M]),this.stack.slice(this[M][2],this[M][3]+1)}}],[{key:"restore",value:function(t){for(var e=new Wi,n=0;n<t.length;n++){var r=t[n];"number"==typeof r&&b(r)?e.writeRaw(n,g(r)):!0===r?e.writeTrue(n):!1===r?e.writeFalse(n):null===r?e.writeNull(n):void 0===r?e.writeUndefined(n):e.writeJs(n,r)}return new this(e,[0,-1,t.length-1,0])}}]),t}();function $i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var qi=function t(){Yi(this,t),this.scope=new s,this.dynamicScope=new s,this.updating=new s,this.cache=new s,this.list=new s},Ki=function(){function t(e,n,r,o){var i=this,a=n.pc,u=n.scope,c=n.dynamicScope,l=n.stack;Yi(this,t),this.runtime=e,this.elementStack=r,this.context=o,this[Hi]=new qi,this[Fi]=new s,this.s0=null,this.s1=null,this.t0=null,this.t1=null,this.v0=null,this.resume=Qi(this.context);var f=Gi.restore(l);f[M][0]=a,f[M][3]=l.length-1,f[M][2]=-1,this[N]=this.program.heap,this[I]=this.program.constants,this.elementStack=r,this[P].scope.push(u),this[P].dynamicScope.push(c),this[L]=new si,this[x]=new mi(f,this[N],e.program,{debugBefore:function(t){return _n.debugBefore(i,t)},debugAfter:function(t){_n.debugAfter(i,t)}},f[M]),this.destructor={},this[T].push(this.destructor)}var e,n,r;return e=t,r=[{key:"initial",value:function(t,e,n){var r=n.handle,o=n.self,i=n.dynamicScope,a=n.treeBuilder,u=t.program.heap.scopesizeof(r),s=kn.root(o,u),c=Xi(t.program.heap.getaddr(r),s,i),l=Qi(e)(t,c,a);return l.pushUpdating(),l}},{key:"empty",value:function(t,e,n){var r=e.handle,o=e.treeBuilder,i=e.dynamicScope,a=Qi(n)(t,Xi(t.program.heap.getaddr(r),kn.root(Ge,0),i),o);return a.pushUpdating(),a}}],(n=[{key:"fetch",value:function(t){var e=this.fetchValue(t);this.stack.pushJs(e)}},{key:"load",value:function(t){var e=this.stack.pop();this.loadValue(t,e)}},{key:"fetchValue",value:function(t){if(R(t))return this[x].fetchRegister(t);switch(t){case 4:return this.s0;case 5:return this.s1;case 6:return this.t0;case 7:return this.t1;case 8:return this.v0}}},{key:"loadValue",value:function(t,e){switch(R(t)&&this[x].loadRegister(t,e),t){case 4:this.s0=e;break;case 5:this.s1=e;break;case 6:this.t0=e;break;case 7:this.t1=e;break;case 8:this.v0=e}}},{key:"pushFrame",value:function(){this[x].pushFrame()}},{key:"popFrame",value:function(){this[x].popFrame()}},{key:"goto",value:function(t){this[x].goto(t)}},{key:"call",value:function(t){this[x].call(t)}},{key:"returnTo",value:function(t){this[x].returnTo(t)}},{key:"return",value:function(){this[x].return()}},{key:"compile",value:function(t){return w(t.compile(this.context))}},{key:"captureState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[x].fetchRegister(0);return{pc:e,dynamicScope:this.dynamicScope(),scope:this.scope(),stack:this.stack.capture(t)}}},{key:"capture",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[x].fetchRegister(0);return new Ri(this.captureState(t,e),this.resume)}},{key:"beginCacheGroup",value:function(t){var e=this.updating(),n=new er;e.push(n),e.push(new nr(t)),this[P].cache.push(n),Le()}},{key:"commitCacheGroup",value:function(){var t=this.updating(),e=this[P].cache.pop(),n=De();t.push(new rr(e)),e.finalize(n,t.length)}},{key:"enter",value:function(t){var e=this.capture(t),n=this.elements().pushUpdatableBlock(),r=new Ti(e,this.runtime,n,[]);this.didEnter(r)}},{key:"enterItem",value:function(t){var e=t.key,n=t.value,r=t.memo,o=this.stack,i=hn(n),a=hn(r);o.pushJs(i),o.pushJs(a);var u=this.capture(2),s=this.elements().pushUpdatableBlock(),c=new Pi(u,this.runtime,s,e,a,i);return this.didEnter(c),c}},{key:"registerItem",value:function(t){this.listBlock().initializeChild(t)}},{key:"enterList",value:function(t,e){var n=[],r=this[x].target(e),o=this.capture(0,r),i=this.elements().pushBlockList(n),a=new Mi(o,this.runtime,i,n,t);this[P].list.push(a),this.didEnter(a)}},{key:"didEnter",value:function(t){this.associateDestroyable(t),this[T].push(t),this.updateWith(t),this.pushUpdating(t.children)}},{key:"exit",value:function(){this[T].pop(),this.elements().popBlock(),this.popUpdating()}},{key:"exitList",value:function(){this.exit(),this[P].list.pop()}},{key:"pushUpdating",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this[P].updating.push(t)}},{key:"popUpdating",value:function(){return this[P].updating.pop()}},{key:"updateWith",value:function(t){this.updating().push(t)}},{key:"listBlock",value:function(){return this[P].list.current}},{key:"associateDestroyable",value:function(t){Ft(this[T].current,t)}},{key:"tryUpdating",value:function(){return this[P].updating.current}},{key:"updating",value:function(){return this[P].updating.current}},{key:"elements",value:function(){return this.elementStack}},{key:"scope",value:function(){return this[P].scope.current}},{key:"dynamicScope",value:function(){return this[P].dynamicScope.current}},{key:"pushChildScope",value:function(){this[P].scope.push(this.scope().child())}},{key:"pushDynamicScope",value:function(){var t=this.dynamicScope().child();return this[P].dynamicScope.push(t),t}},{key:"pushRootScope",value:function(t){var e=kn.sized(t);return this[P].scope.push(e),e}},{key:"pushScope",value:function(t){this[P].scope.push(t)}},{key:"popScope",value:function(){this[P].scope.pop()}},{key:"popDynamicScope",value:function(){this[P].dynamicScope.pop()}},{key:"getSelf",value:function(){return this.scope().getSelf()}},{key:"referenceForSymbol",value:function(t){return this.scope().getSymbol(t)}},{key:"execute",value:function(t){return this._execute(t)}},{key:"_execute",value:function(t){var e;for(t&&t(this);!(e=this.next()).done;);return e.value}},{key:"next",value:function(){var t,e=this.env,n=this.elementStack,r=this[x].nextStatement();return null!==r?(this[x].evaluateOuter(r,this),t={done:!1,value:null}):(this.stack.reset(),t={done:!0,value:new Li(e,this.popUpdating(),n.popBlock(),this.destructor)}),t}},{key:"bindDynamicScope",value:function(t){for(var e=this.dynamicScope(),n=t.length-1;n>=0;n--){var r=t[n];e.set(r,this.stack.popJs())}}},{key:"stack",get:function(){return this[x].stack}},{key:"pc",get:function(){return this[x].fetchRegister(0)}},{key:"program",get:function(){return this.runtime.program}},{key:"env",get:function(){return this.runtime.env}}])&&$i(e.prototype,n),r&&$i(e,r),t}();function Xi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kn.root(Ge,0),n=arguments.length>2?arguments[2]:void 0;return{pc:t,scope:e,dynamicScope:n,stack:[]}}function Qi(t){return function(e,n,r){return new Ki(e,n,r,t)}}function Zi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ta(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ta(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ta(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ea(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Hi=P,Fi=T;var na=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vm=e}var e,n;return e=t,(n=[{key:"next",value:function(){return this.vm.next()}},{key:"sync",value:function(){return this.vm.execute()}}])&&ea(e.prototype,n),t}();function ra(t,e){var n;return function(t,e){if(t[ei])e();else{t.begin();try{e()}finally{t.commit()}}}(t,(function(){return n=e.sync()})),n}function oa(t,e,n,r){var o=Object.keys(r).map((function(t){return[t,r[t]]})),i=["main","else","attrs"],a=o.map((function(t){var e=Zi(t,1)[0];return"@".concat(e)}));t.pushFrame();for(var u=0;u<3*i.length;u++)t.stack.pushNull();return t.stack.pushNull(),o.forEach((function(e){var n=Zi(e,2)[1];t.stack.pushJs(n)})),t[L].setup(t.stack,a,i,0,!0),t.stack.pushJs(t[L]),t.stack.pushJs(e),t.stack.pushJs(n),new na(t)}function ia(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new gn,u=w(o.compile(n)),s={handle:u,symbolTable:o.symbolTable},c=Ki.empty(t,{treeBuilder:e,handle:n.program.stdlib.main,dynamicScope:a},n);return oa(c,s,r,i)}function aa(t){return(aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ua(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sa(t,e,n){return(sa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ya(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ca(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function la(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fa(t,e)}function fa(t,e){return(fa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ya(t);if(e){var o=ya(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ha(this,n)}}function ha(t,e){return!e||"object"!==aa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ya(t){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var va=function(t){la(n,t);var e=pa(n);function n(t,r,o){var i;return ca(this,n),(i=e.call(this,t,r)).startingBlockDepth=o,i.candidate=null,i.injectedOmittedNode=!1,i.openBlockDepth=o-1,i}return n}(J),da=function(t){la(o,t);var e,n,r=pa(o);function o(t,e,n){var i;if(ca(this,o),(i=r.call(this,t,e,n)).unmatchedAttributes=null,i.blockDepth=0,n)throw new Error("Rehydration with nextSibling not supported");for(var a=i.currentCursor.element.firstChild;null!==a&&!ma(a);)a=a.nextSibling;i.candidate=a;var u=ga(a);if(0!==u){var s=u-1,c=i.dom.createComment("%+b:".concat(s,"%"));a.parentNode.insertBefore(c,i.candidate);for(var l=a.nextSibling;null!==l&&(!ba(l)||ga(l)!==u);)l=l.nextSibling;var f=i.dom.createComment("%-b:".concat(s,"%"));a.parentNode.insertBefore(f,l.nextSibling),i.candidate=c,i.startingBlockOffset=s}else i.startingBlockOffset=0;return i}return e=o,(n=[{key:"disableRehydration",value:function(t){var e=this.currentCursor;e.candidate=null,e.nextSibling=t}},{key:"enableRehydration",value:function(t){var e=this.currentCursor;e.candidate=t,e.nextSibling=null}},{key:"pushElement",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new va(t,e,this.blockDepth||0);null!==this.candidate&&(n.candidate=t.firstChild,this.candidate=t.nextSibling),this[ie].push(n)}},{key:"clearMismatch",value:function(t){var e=t,n=this.currentCursor;if(null!==n){var r=n.openBlockDepth;if(r>=n.startingBlockDepth)for(;e&&!(ba(e)&&r>=ka(e,this.startingBlockOffset));)e=this.remove(e);else for(;null!==e;)e=this.remove(e);this.disableRehydration(e)}}},{key:"__openBlock",value:function(){var t=this.currentCursor;if(null!==t){var e=this.blockDepth;this.blockDepth++;var n=t.candidate;if(null!==n){var r=t.element.tagName;ma(n)&&ka(n,this.startingBlockOffset)===e?(this.candidate=this.remove(n),t.openBlockDepth=e):"TITLE"!==r&&"SCRIPT"!==r&&"STYLE"!==r&&this.clearMismatch(n)}}}},{key:"__closeBlock",value:function(){var t=this.currentCursor;if(null!==t){var e=t.openBlockDepth;this.blockDepth--;var n=t.candidate,r=!1;if(null!==n)if(r=!0,ba(n)&&ka(n,this.startingBlockOffset)===e){var o=this.remove(n);this.candidate=o,t.openBlockDepth--}else this.clearMismatch(n),r=!1;if(!1===r){var i=t.nextSibling;if(null!==i&&ba(i)&&ka(i,this.startingBlockOffset)===this.blockDepth){var a=this.remove(i);this.enableRehydration(a),t.openBlockDepth--}}}}},{key:"__appendNode",value:function(t){return this.candidate||sa(ya(o.prototype),"__appendNode",this).call(this,t)}},{key:"__appendHTML",value:function(t){var e=this.markerBounds();if(e){var n=e.firstNode(),r=e.lastNode(),i=new V(this.element,n.nextSibling,r.previousSibling),a=this.remove(n);return this.remove(r),null!==a&&Oa(a)&&(this.candidate=this.remove(a),null!==this.candidate&&this.clearMismatch(this.candidate)),i}return sa(ya(o.prototype),"__appendHTML",this).call(this,t)}},{key:"remove",value:function(t){var e=t.parentNode,n=t.nextSibling;return e.removeChild(t),n}},{key:"markerBounds",value:function(){var t=this.candidate;if(t&&Sa(t)){for(var e=t,n=e.nextSibling;n&&!Sa(n);)n=n.nextSibling;return new V(this.element,e,n)}return null}},{key:"__appendText",value:function(t){var e,n=this.candidate;return n?3===n.nodeType?(n.nodeValue!==t&&(n.nodeValue=t),this.candidate=n.nextSibling,n):8===(e=n).nodeType&&"%|%"===e.nodeValue||Oa(n)&&""===t?(this.candidate=this.remove(n),this.__appendText(t)):(this.clearMismatch(n),sa(ya(o.prototype),"__appendText",this).call(this,t)):sa(ya(o.prototype),"__appendText",this).call(this,t)}},{key:"__appendComment",value:function(t){var e=this.candidate;return e&&8===e.nodeType?(e.nodeValue!==t&&(e.nodeValue=t),this.candidate=e.nextSibling,e):(e&&this.clearMismatch(e),sa(ya(o.prototype),"__appendComment",this).call(this,t))}},{key:"__openElement",value:function(t){var e=this.candidate;if(e&&wa(e)&&function(t,e){return"http://www.w3.org/2000/svg"===t.namespaceURI?t.tagName===e:t.tagName===e.toUpperCase()}(e,t))return this.unmatchedAttributes=[].slice.call(e.attributes),e;if(e){if(wa(e)&&"TBODY"===e.tagName)return this.pushElement(e,null),this.currentCursor.injectedOmittedNode=!0,this.__openElement(t);this.clearMismatch(e)}return sa(ya(o.prototype),"__openElement",this).call(this,t)}},{key:"__setAttribute",value:function(t,e,n){var r=this.unmatchedAttributes;if(r){var i=Ea(r,t);if(i)return i.value!==e&&(i.value=e),void r.splice(r.indexOf(i),1)}return sa(ya(o.prototype),"__setAttribute",this).call(this,t,e,n)}},{key:"__setProperty",value:function(t,e){var n=this.unmatchedAttributes;if(n){var r=Ea(n,t);if(r)return r.value!==e&&(r.value=e),void n.splice(n.indexOf(r),1)}return sa(ya(o.prototype),"__setProperty",this).call(this,t,e)}},{key:"__flushElement",value:function(t,e){var n=this.unmatchedAttributes;if(n){for(var r=0;r<n.length;r++)this.constructing.removeAttribute(n[r].name);this.unmatchedAttributes=null}else sa(ya(o.prototype),"__flushElement",this).call(this,t,e)}},{key:"willCloseElement",value:function(){var t=this.candidate,e=this.currentCursor;null!==t&&this.clearMismatch(t),e&&e.injectedOmittedNode&&this.popElement(),sa(ya(o.prototype),"willCloseElement",this).call(this)}},{key:"getMarker",value:function(t,e){return t.querySelector('script[glmr="'.concat(e,'"]'))||null}},{key:"__pushRemoteElement",value:function(t,e,n){var r=this.getMarker(t,e);if(void 0===n){for(;null!==t.firstChild&&t.firstChild!==r;)this.remove(t.firstChild);n=null}var o=new va(t,null,this.blockDepth);this[ie].push(o),null===r?this.disableRehydration(n):this.candidate=this.remove(r);var i=new se(t);return this.pushLiveBlock(i,!0)}},{key:"didAppendBounds",value:function(t){if(sa(ya(o.prototype),"didAppendBounds",this).call(this,t),this.candidate){var e=t.lastNode();this.candidate=e&&e.nextSibling}return t}},{key:"currentCursor",get:function(){return this[ie].current}},{key:"candidate",get:function(){return this.currentCursor?this.currentCursor.candidate:null},set:function(t){this.currentCursor.candidate=t}}])&&ua(e.prototype,n),o}(ae);function ma(t){return 8===t.nodeType&&0===t.nodeValue.lastIndexOf("%+b:",0)}function ba(t){return 8===t.nodeType&&0===t.nodeValue.lastIndexOf("%-b:",0)}function ga(t){return parseInt(t.nodeValue.slice(4),10)}function ka(t,e){return ga(t)-e}function wa(t){return 1===t.nodeType}function Sa(t){return 8===t.nodeType&&"%glmr%"===t.nodeValue}function Oa(t){return 8===t.nodeType&&"% %"===t.nodeValue}function Ea(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.name===e)return r}}function Aa(t,e){return da.forInitialRender(t,e)}function ja(t){return{type:"array",value:t}}function _a(t){return{type:"string-array",value:t}}function Ca(t){return{type:"template-meta",value:t}}function Ra(t){return{type:"other",value:t}}function xa(t){return{type:"label",value:t}}var Ta={dynamicLayout:!1,dynamicTag:!1,prepareArgs:!1,createArgs:!1,attributeHook:!1,elementHook:!1,dynamicScope:!1,createCaller:!1,updateHook:!1,createInstance:!1,wrapped:!1,willDestroy:!1};function Pa(t,e){var n=e.resolver,r=e.meta.referrer,o=n.lookupComponent(t,r);return null===o?o:{handle:o.handle,compilable:o.compilable,capabilities:o.capabilities||Ta}}function Ma(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Na=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.buffer=e,this.size=0}var e,n;return e=t,(n=[{key:"encode",value:function(t,e){if(t>255)throw new Error("Opcode type over 8-bits. Got ".concat(t,"."));var n=t|e|arguments.length-2<<8;this.buffer.push(n);for(var r=2;r<arguments.length;r++){var o=arguments[r];if("number"==typeof o&&o>2147483647)throw new Error("Operand over 32-bits. Got ".concat(o,"."));this.buffer.push(o)}this.size=this.buffer.length}},{key:"patch",value:function(t,e){if(-1!==this.buffer[t+1])throw new Error("Trying to patch operand in populated slot instead of a reserved slot.");this.buffer[t+1]=e}}])&&Ma(e.prototype,n),t}();function Ia(t){return[La(t),as(30)]}function La(t){return as(29,"number"==typeof t&&b(t)?{type:"immediate",value:t}:{type:"primitive",value:t})}function Da(t){var e=t.handle,n=t.params,r=t.hash;return[as(0),as("SimpleArgs",{params:n,hash:r,atNames:!1}),as(16,e),as(1),as(35,8)]}function Ba(t,e){return[as(58),as(57,_a(t)),e(),as(59)]}function Ua(t,e){return[as("SimpleArgs",{params:e,hash:null,atNames:!0}),as(23,t),as(24),as("Option",as(60)),as(63),as(39),as(1)]}function Ja(t){return[Ha(t&&t.symbolTable),as(61),Fa(t)]}function Va(t){return[as(0),Fa(t),as(60),as(2),as(1)]}function za(t,e){var n=t.symbolTable.parameters,r=n.length,o=Math.min(e,r);if(0===o)return Va(t);var i=[];if(i.push(as(0)),o){i.push(as(38));for(var a=0;a<o;a++)i.push(as(32,2,e-a)),i.push(as(19,n[a]))}return i.push(Fa(t)),i.push(as(60)),i.push(as(2)),o&&i.push(as(39)),i.push(as(1)),i}function Ha(t){return t?as(62,{type:"serializable",value:t}):La(null)}function Fa(t){return null===t?La(null):as(28,Ra(t))}function Wa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ga(t){var e=[],n=0;t((function(t,r){e.push({match:t,callback:r,label:"CLAUSE".concat(n++)})}));var r,o=[as(68,1),as(75),as("StartLabels")],i=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Wa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wa(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e.slice(0,-1));try{for(i.s();!(r=i.n()).done;){var a=r.value;o.push(as(66,xa(a.label),a.match))}}catch(t){i.e(t)}finally{i.f()}for(var u=e.length-1;u>=0;u--){var s=e[u];o.push(as("Label",s.label),as(33,1),s.callback()),0!==u&&o.push(as(4,xa("END")))}return o.push(as("Label","END"),as("StopLabels"),as(69)),o}function $a(t){var e=t.args,n=t.body,r=e(),o=r.count,i=r.actions;return[as("StartLabels"),as(0),as(6,xa("ENDINITIAL")),i,as(68,o),n(),as("Label","FINALLY"),as(69),as(5),as("Label","ENDINITIAL"),as(1),as("StopLabels")]}function Ya(t){var e=t.args,n=t.ifTrue,r=t.ifFalse;return $a({args:e,body:function(){var t=[as(65,xa("ELSE")),n(),as(4,xa("FINALLY")),as("Label","ELSE")];return r&&t.push(r()),t}})}function qa(t,e){var n=t.encoder;switch(e.op){case"Option":return hu(t,function(t){var e=t.op1;return null===e?cu:e}(e));case"Label":return n.label(e.op1);case"StartLabels":return n.startLabels();case"StopLabels":return n.stopLabels();default:return v(e)}}function Ka(t,e,n){void 0!==n.op3?t.push(e,n.op,n.op1,n.op2,n.op3):void 0!==n.op2?t.push(e,n.op,n.op1,n.op2):void 0!==n.op1?t.push(e,n.op,n.op1):t.push(e,n.op)}function Xa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Qa=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.names={},this.funcs=[]}var e,n;return e=t,(n=[{key:"add",value:function(t,e){this.names[t]=this.funcs.push(e)-1}},{key:"compile",value:function(t,e){var n=t[0],r=this.names[n];return(0,this.funcs[r])(t,e)}}])&&Xa(e.prototype,n),t}();function Za(t,e){return ru(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||eu(t,e)||tu()}function tu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eu(t,e){if(t){if("string"==typeof t)return nu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nu(t,e):void 0}}function nu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ru(t){if(Array.isArray(t))return t}var ou=new Qa;function iu(t,e){if(void 0===e||0===e.length)return t;Array.isArray(t)||(t=[t]);for(var n=0;n<e.length;n++)t.push(as(22,e[n]));return t}function au(t,n,r,o){switch(r.op){case"SimpleArgs":yu(t,n,function(t,n,r){var o=[],i=cs(t),a=i.count,u=i.actions;o.push(u);var s=a<<4;r&&(s|=8);var c=e;if(n){c=n[0];for(var l=n[1],f=0;f<l.length;f++)o.push(as("Expr",l[f]))}return o.push(as(82,_a(c),_a(e),s)),o}(r.op1.params,r.op1.hash,r.op1.atNames),o);break;case"Expr":yu(t,n,function(t,e){return Array.isArray(t)?ou.compile(t,e):[La(t),as(30)]}(r.op1,n.meta),o);break;case"IfResolved":yu(t,n,function(t,e){var n=e.op1,r=n.kind,o=n.name,i=n.andThen,a=n.orElse,u=n.span,s=function(t,e,n,r){switch(e){case"Modifier":return t.lookupModifier(n,r);case"Helper":return t.lookupHelper(n,r);case"ComponentDefinition":var o=t.lookupComponent(n,r);return o&&o.handle}}(t.syntax.program.resolver,r,o,t.meta.referrer);return null!==s?i(s):a?a():is("Unexpected ".concat(r," ").concat(o),u.start,u.end)}(n,r),o);break;case"ResolveFree":throw new Error("Unimplemented HighLevelResolutionOpcode.ResolveFree");case"ResolveContextualFree":var i=r.op1,a=i.freeVar,u=i.context;if(n.meta.asPartial){yu(t,n,[as(102,n.meta.upvars[a])],o);break}switch(u){case 1:var s=n.meta.upvars[a];yu(t,n,[as(21,0),as(22,s)],o);break;case 0:var c=n.syntax.program.resolver,l=n.meta.upvars[a],f=c.lookupHelper(l,n.meta.referrer);yu(t,n,f?Da({handle:f,params:null,hash:null}):[as(21,0),as(22,l)],o);break;default:throw new Error("unimplemented: Can't evaluate expression in context ".concat(u))}break;default:return v(r)}}function uu(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return su(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?su(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function su(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}ou.add(31,(function(t){var e,n=Za(t,2)[1],r=[],o=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=eu(t))){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(n);try{for(o.s();!(e=o.n()).done;){var i=e.value;r.push(as("Expr",i))}}catch(t){o.e(t)}finally{o.f()}return r.push(as(27,n.length)),r})),ou.add(30,(function(t,e){var n=Za(t,4),r=n[1],o=n[2],i=n[3];if(function(t,e){if(!Array.isArray(t))return!1;if(t[0]>=34){var n=t[1];return!(!e.upvars||"component"!==e.upvars[n])}return!1}(r,e)){if(!o||0===o.length)return as("Error",{problem:"component helper requires at least one argument",start:0,end:0});var a=function(t){return ru(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||eu(t)||tu()}(o);return function(t,e){var n=t.definition,r=t.params,o=t.hash,i=t.atNames;return[as(0),as("SimpleArgs",{params:r,hash:o,atNames:i}),as(86),as("Expr",n),as(76,Ca(e)),as(1),as(35,8)]}({definition:a[0],params:a.slice(1),hash:i,atNames:!1},e.referrer)}var u=$u(r,e,"Expected call head to be a string");return"string"!=typeof u?u:as("IfResolved",{kind:"Helper",name:u,andThen:function(t){return Da({handle:t,params:o,hash:i})},span:{start:0,end:0}})})),ou.add(32,(function(t){var e=Za(t,3),n=e[1],r=e[2];return iu(as(21,n),r)})),ou.add(33,(function(t){var e=Za(t,3),n=e[1],r=e[2];return iu(as("ResolveFree",n),r)})),ou.add(34,(function(t){var e=Za(t,3),n=e[1],r=e[2];return iu(as("ResolveContextualFree",{freeVar:n,context:0}),r)})),ou.add(35,(function(t){var e=Za(t,3),n=e[1],r=e[2];return iu(as("ResolveContextualFree",{freeVar:n,context:1}),r)})),ou.add(36,(function(t){var e=Za(t,3),n=e[1],r=e[2];return iu(as("ResolveContextualFree",{freeVar:n,context:2}),r)})),ou.add(37,(function(t){var e=Za(t,3),n=e[1],r=e[2];return iu(as("ResolveContextualFree",{freeVar:n,context:3}),r)})),ou.add(38,(function(t){var e=Za(t,3),n=e[1],r=e[2];return iu(as("ResolveContextualFree",{freeVar:n,context:4}),r)})),ou.add(39,(function(t){var e=Za(t,3),n=e[1],r=e[2];return iu(as("ResolveContextualFree",{freeVar:n,context:5}),r)})),ou.add(29,(function(){return Ia(void 0)})),ou.add(27,(function(t){return[as("Expr",Za(t,2)[1]),as(25)]})),ou.add(28,(function(t){return[as("Expr",Za(t,2)[1]),as(24),as(60),as(26)]}));var cu={"no-action":!0},lu={"not-handled":!0};function fu(t){return t&&!!t["no-action"]}function pu(t){return!t||!t["not-handled"]}function hu(t,e){if(!fu(e))if(Array.isArray(e)){var n,r=uu(e);try{for(r.s();!(n=r.n()).done;)hu(t,n.value)}catch(t){r.e(t)}finally{r.f()}}else"Simple"===e.type?qa(t,e):Ka(t.encoder,t.syntax.program.constants,e)}function yu(t,e,n,r){if(!fu(n))if(Array.isArray(n)){var o,i=uu(n);try{for(i.s();!(o=i.n()).done;)yu(t,e,o.value,r)}catch(t){i.e(t)}finally{i.f()}}else if("Number"===n.type)Ka(t,r,n);else if("Resolution"===n.type)au(t,e,n,r);else if("Simple"===n.type)qa(e,n);else{if("Error"!==n.type)throw _(n,"unexpected action kind");t.error({problem:n.op1.problem,span:{start:n.op1.start,end:n.op1.end}})}}function vu(t,e){if(!fu(e))if(Array.isArray(e)){var n,r=uu(e);try{for(r.s();!(n=r.n()).done;)vu(t,n.value)}catch(t){r.e(t)}finally{r.f()}}else if("Number"===e.type)Ka(t.encoder,t.syntax.program.constants,e);else if("Compile"===e.type)!function(t,e){vu(t,function(t,e){switch(e.op){case"CompileBlock":return function(t,e){return function(t,e){var n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),5!==n.length);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t)||function(t,e){if(t){if("string"==typeof t)return Xu(t,5);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xu(t,5):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t),r=n[1],o=n[2],i=n[3],a=Gu(n[4],e.meta),u=$u(r,e.meta,"Expected block head to be a string");return"string"!=typeof u?u:e.syntax.macros.blocks.compile(u,o||[],i,a,e)}(e.op1,t)}(t,e);case"CompileInline":return function(t,e){var n=e.op1,r=n.inline,o=n.ifUnhandled,i=function(t,e){return e.syntax.macros.inlines.compile(t,e)}(r,t);return pu(i)?i:o(r)}(t,e);case"DynamicComponent":return function(t,e){var n=e.op1,r=n.definition,o=n.attrs,i=n.params,a=n.args,u=n.blocks,s=n.atNames,c=n.curried,l=o&&o.length>0?Ju(o,t.meta):null,f=Array.isArray(u)||null===u?Gu(u,t.meta):u;return ms(t.meta,{definition:r,attrs:l,params:i,hash:a,atNames:s,blocks:f,curried:c})}(t,e);case"IfResolvedComponent":return function(t,e){var n=e.op1,r=n.name,o=n.attrs,i=n.blocks,a=n.staticTemplate,u=n.dynamicTemplate,s=n.orElse,c=Pa(r,{resolver:t.syntax.program.resolver,meta:t.meta}),l=t.meta;if(null!==c){var f=c.handle,p=c.capabilities,h=c.compilable,y=Ju(o,l),v=Gu(i,l);return null!==h?a(f,p,h,{attrs:y,blocks:v}):u(f,p,{attrs:y,blocks:v})}if(s)return s();throw new Error("Compile Error: Cannot find component ".concat(r))}(t,e);default:return v(e)}}(t,e))}(t,e);else if("Resolution"===e.type)au(t.encoder,t,e,t.syntax.program.constants);else if("Simple"===e.type)qa(t,e);else if("Error"!==e.type)throw _(e,"unexpected action type")}function du(t){return wu(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||gu(t)||bu()}function mu(t,e){return wu(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||gu(t,e)||bu()}function bu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gu(t,e){if(t){if("string"==typeof t)return ku(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ku(t,e):void 0}}function ku(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wu(t){if(Array.isArray(t))return t}function Su(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ou(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eu(t,e,n){return e&&Ou(t.prototype,e),n&&Ou(t,n),t}function Au(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ju=function t(){Au(this,t);var e=function(t,e){return t.add("if",(function(t,e,n){if(!t||1!==t.length)throw new Error("SYNTAX ERROR: #if requires a single argument");return Ya({args:function(){return{count:1,actions:[as("Expr",t[0]),as(70)]}},ifTrue:function(){return Va(n.get("default"))},ifFalse:function(){return n.has("else")?Va(n.get("else")):cu}})})),t.add("unless",(function(t,e,n){if(!t||1!==t.length)throw new Error("SYNTAX ERROR: #unless requires a single argument");return Ya({args:function(){return{count:1,actions:[as("Expr",t[0]),as(70)]}},ifTrue:function(){return n.has("else")?Va(n.get("else")):cu},ifFalse:function(){return Va(n.get("default"))}})})),t.add("with",(function(t,e,n){if(!t||1!==t.length)throw new Error("SYNTAX ERROR: #with requires a single argument");return Ya({args:function(){return{count:2,actions:[as("Expr",t[0]),as(32,3,0),as(70)]}},ifTrue:function(){return za(n.get("default"),1)},ifFalse:function(){return n.has("else")?Va(n.get("else")):cu}})})),t.add("let",(function(t,e,n){if(!t)return is("let requires arguments",0,0);var r=cs(t),o=r.count;return[r.actions,za(n.get("default"),o)]})),t.add("each",(function(t,e,n){return $a({args:function(){var n;return(n=e&&"key"===e[0][0]?[as("Expr",e[1][0])]:[Ia(null)]).push(as("Expr",t[0])),{count:2,actions:n}},body:function(){var t=[as(71,xa("BODY"),xa("ELSE")),as(0),as(32,2,1),as(6,xa("ITER")),as("Label","ITER"),as(73,xa("BREAK")),as("Label","BODY"),za(n.get("default"),2),as(33,2),as(4,xa("FINALLY")),as("Label","BREAK"),as(1),as(72),as(4,xa("FINALLY")),as("Label","ELSE")];return n.has("else")&&t.push(Va(n.get("else"))),t}})})),t.add("in-element",(function(t,e,n){if(!t||1!==t.length)throw new Error("SYNTAX ERROR: #in-element requires a single argument");return Ya({args:function(){for(var n=mu(e,2),r=n[0],o=n[1],i=[],a=0;a<r.length;a++){var u=r[a];if("guid"!==u&&"insertBefore"!==u)throw new Error("SYNTAX ERROR: #in-element does not take a `".concat(r[0],"` option"));i.push(as("Expr",o[a]))}return i.push(as("Expr",t[0]),as(32,3,0)),{count:4,actions:i}},ifTrue:function(){return[as(49),Va(n.get("default")),as(55)]}})})),t.add("-with-dynamic-vars",(function(t,e,n){if(e){var r=mu(e,2),o=r[0];return[cs(r[1]).actions,Ba(o,(function(){return Va(n.get("default"))}))]}return Va(n.get("default"))})),t.add("component",(function(t,e,n,r){if("string"==typeof t[0]){var o=vs(r,t[0],e,n.get("default"));if(pu(o))return o}var i=du(t);return as("DynamicComponent",{definition:i[0],attrs:null,params:i.slice(1),args:e,atNames:!1,blocks:n,curried:!1})})),e.add("component",(function(t,e,n,r){var o=e&&e[0];if("string"==typeof o){var i=vs(r,o,n,null);if(i!==lu)return i}var a=du(e),u=a[0],s=a.slice(1);return ms(r.meta,{definition:u,attrs:null,params:s,hash:n,atNames:!1,blocks:Wu,curried:!1})})),{blocks:t,inlines:e}}(new _u,new Cu),n=e.blocks,r=e.inlines;this.blocks=n,this.inlines=r},_u=function(){function t(){Au(this,t),this.names=i(),this.funcs=[]}return Eu(t,[{key:"add",value:function(t,e){this.funcs.push(e),this.names[t]=this.funcs.length-1}},{key:"addMissing",value:function(t){this.missing=t}},{key:"compile",value:function(t,e,n,r,o){var i=this.names[t],a={resolver:o.syntax.program.resolver,meta:o.meta};return void 0===i?(0,this.missing)(t,e,n,r,a):(0,this.funcs[i])(e,n,r,a)}}]),t}(),Cu=function(){function t(){Au(this,t),this.names=i(),this.funcs=[]}return Eu(t,[{key:"add",value:function(t,e){this.funcs.push(e),this.names[t]=this.funcs.length-1}},{key:"addMissing",value:function(t){this.missing=t}},{key:"compile",value:function(t,e){var n,r,o,i=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Su(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Su(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2)[1];if(!Array.isArray(i))return lu;if(30===i[0]){var a=$u(i[1],e.meta,"Expected head of call to be a string");if("string"!=typeof a)return a;n=a,r=i[2],o=i[3]}else{if(!qu(i))return lu;var u=Yu(i,e.meta);if(null===u)return lu;n=u,r=null,o=null}var s=this.names[n],c={resolver:e.syntax.program.resolver,meta:e.meta};return void 0===s&&this.missing?(0,this.missing)(n,r,o,c):void 0!==s?(0,this.funcs[s])(n,r,o,c):lu}}]),t}();function Ru(t,e){return{syntax:t,encoder:new us,meta:e}}function xu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Tu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tu(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Pu=new Qa,Mu=["class","id","value","name","type","style","href"],Nu=["div","span","p","a"];function Iu(t){return"string"==typeof t?t:Nu[t]}function Lu(t){return"string"==typeof t?t:Mu[t]}function Du(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Pu.add(3,(function(t){return as(41,t[1])})),Pu.add(13,(function(){return as(54)})),Pu.add(12,(function(){return as(53)})),Pu.add(4,(function(t,e){var n=xu(t,4),r=n[1],o=n[2],i=n[3],a=$u(r,e,"Expected modifier head to be a string");return"string"!=typeof a?a:as("IfResolved",{kind:"Modifier",name:a,andThen:function(t){return[as(0),as("SimpleArgs",{params:o,hash:i,atNames:!1}),as(56,t),as(1)]},span:{start:0,end:0}})})),Pu.add(14,(function(t){var e=xu(t,4),n=e[1],r=e[2],o=e[3];return as(50,Lu(n),r,null!=o?o:null)})),Pu.add(24,(function(t){var e=xu(t,4),n=e[1],r=e[2],o=e[3];return as(105,Lu(n),r,null!=o?o:null)})),Pu.add(15,(function(t){var e=xu(t,4),n=e[1],r=e[2],o=e[3];return[as("Expr",r),as(51,Lu(n),!1,null!=o?o:null)]})),Pu.add(22,(function(t){var e=xu(t,4),n=e[1],r=e[2],o=e[3];return[as("Expr",r),as(51,Lu(n),!0,null!=o?o:null)]})),Pu.add(16,(function(t){var e=xu(t,4),n=e[1],r=e[2],o=e[3];return[as("Expr",r),as(52,Lu(n),!1,null!=o?o:null)]})),Pu.add(23,(function(t){var e=xu(t,4),n=e[1],r=e[2],o=e[3];return[as("Expr",r),as(52,Lu(n),!0,null!=o?o:null)]})),Pu.add(10,(function(t){return as(47,Iu(xu(t,2)[1]))})),Pu.add(11,(function(t){var e=xu(t,2)[1];return[as(89),as(47,Iu(e))]})),Pu.add(8,(function(t){var e=xu(t,5),n=e[1],r=e[2],o=e[3],i=e[4];return"string"==typeof n?as("IfResolvedComponent",{name:n,attrs:r,blocks:i,staticTemplate:function(t,e,n,r){var i=r.blocks,a=r.attrs;return[as(77,t),ds({capabilities:e,layout:n,attrs:a,params:null,hash:o,blocks:i})]},dynamicTemplate:function(t,e,n){var r=n.attrs,i=n.blocks;return[as(77,t),bs({capabilities:e,attrs:r,params:null,hash:o,atNames:!0,blocks:i})]}}):as("DynamicComponent",{definition:n,attrs:r,params:null,args:o,blocks:i,atNames:!0,curried:!0})})),Pu.add(19,(function(t,e){var n=xu(t,3),r=n[1],o=n[2];return Ya({args:function(){return{count:2,actions:[as("Expr",r),as(32,3,0)]}},ifTrue:function(){return[as(101,Ca(e.referrer),_a(e.evalSymbols),ja(o)),as(39),as(1)]}})})),Pu.add(18,(function(t){var e=xu(t,3);return Ua(e[1],e[2])})),Pu.add(17,(function(t){return Ua(xu(t,2)[1],e)})),Pu.add(26,(function(t,e){var n=xu(t,2)[1];return as(103,_a(e.evalSymbols),ja(n))})),Pu.add(1,(function(t){var e=xu(t,2)[1];return as("CompileInline",{inline:t,ifUnhandled:function(){return[as(0),as("Expr",e),as(3,{type:"stdlib",value:"cautious-append"}),as(1)]}})})),Pu.add(2,(function(t){var e=xu(t,2)[1];return"string"==typeof e?as(40,e):[as(0),as("Expr",e),as(3,{type:"stdlib",value:"trusting-append"}),as(1)]})),Pu.add(6,(function(t){return as("CompileBlock",t)}));var Bu=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.statements=e,this.meta=n,this.symbolTable=r,this.compiled=null}var e,n;return e=t,(n=[{key:"compile",value:function(t){return function(t,e){if(null!==t.compiled)return t.compiled;t.compiled=-1;var n=function(t,e,n){for(var r=Pu,o=Ru(n,e),i=0;i<t.length;i++)vu(o,r.compile(t[i],o.meta));return o.encoder.commit(n.program.heap,e.size)}(t.statements,t.meta,e);return Xo(e.program),t.compiled=n,n}(this,t)}}])&&Du(e.prototype,n),t}();function Uu(t){var e=t.block;return new Bu(e.statements,ls(t),{symbols:e.symbols,hasEval:e.hasEval})}function Ju(t,n){var r=Array.isArray(t)?{statements:t,parameters:e}:t;return new Bu(r.statements,n,{parameters:r.parameters})}function Vu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Fu=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.blocks=e,this.names=e?Object.keys(e):[]}var e,n;return e=t,(n=[{key:"get",value:function(t){return this.blocks&&this.blocks[t]||null}},{key:"has",value:function(t){var e=this.blocks;return null!==e&&t in e}},{key:"with",value:function(e,n){var r=this.blocks;return new t(r?h({},r,zu({},e,n)):zu({},e,n))}},{key:"hasAny",get:function(){return null!==this.blocks}}])&&Hu(e.prototype,n),t}(),Wu=new Fu(null);function Gu(t,e){if(null===t)return Wu;for(var n=i(),r=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Vu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vu(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),o=r[0],a=r[1],u=0;u<o.length;u++)n[o[u]]=Ju(a[u],e);return new Fu(n)}function $u(t,e,n){if(!e.upvars)return is("".concat(n,", but there were no free variables in the template"),0,0);if(!Array.isArray(t))throw new Error("".concat(n,", got ").concat(JSON.stringify(t)));if(qu(t)){var r=Yu(t,e);if(null!==r)return r}throw new Error("".concat(n,", got ").concat(JSON.stringify(t)))}function Yu(t,e){return 3===t.length&&t[2].length>0?null:function(t){return t[0]>=33}(t)?e.upvars[t[1]]:null}function qu(t){return t.length>=2&&t[0]>=32}function Ku(t){return(Ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qu(t){return(Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zu(t){return function(t){if(Array.isArray(t))return ts(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ts(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ts(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ts(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function es(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ns(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rs(t,e,n){return e&&ns(t.prototype,e),n&&ns(t,n),t}var os=function(){function t(){es(this,t),this.labels=i(),this.targets=[]}return rs(t,[{key:"label",value:function(t,e){this.labels[t]=e}},{key:"target",value:function(t,e){this.targets.push({at:t,target:e})}},{key:"patch",value:function(t){for(var e=this.targets,n=this.labels,r=0;r<e.length;r++){var o=e[r],i=o.at,a=n[o.target]-i;t.patch(i,a)}}}]),t}();function is(t,e,n){return as("Error",{problem:t,start:e,end:n})}function as(t,e,n,r){if("number"==typeof t)return void 0!==r?{type:"Number",op:t,op1:e,op2:n,op3:r}:void 0!==n?{type:"Number",op:t,op1:e,op2:n}:void 0!==e?{type:"Number",op:t,op1:e}:{type:"Number",op:t};var o,i;if("CompileInline"===(i=t)||"CompileBlock"===i||"IfResolvedComponent"===i||"DynamicComponent"===i)o="Compile";else if(function(t){return"IfResolved"===t||"Expr"===t||"SimpleArgs"===t||"ResolveFree"===t||"ResolveContextualFree"===t}(t))o="Resolution";else if(function(t){return"Label"===t||"Option"===t||"StartLabels"===t||"StopLabels"===t}(t))o="Simple";else{if(!function(t){return"Error"===t}(t))throw new Error("Exhausted ".concat(t));o="Error"}return void 0===e?{type:o,op:t,op1:void 0}:{type:o,op:t,op1:e}}var us=function(){function t(){es(this,t),this.labelsStack=new s,this.encoder=new Na([]),this.errors=[]}return rs(t,[{key:"error",value:function(t){this.encoder.encode(29,0),this.errors.push(t)}},{key:"commit",value:function(t,e){this.encoder.encode(5,1024);var n=function(t,e,n){for(var r=t.malloc(),o=0;o<n.length;o++){var i=n[o];"function"==typeof i?t.pushPlaceholder(i):"object"===Ku(i)?t.pushStdlib(i):t.push(i)}return t.finishMalloc(r,e),r}(t,e,this.encoder.buffer);return this.errors.length?{errors:this.errors,handle:n}:n}},{key:"push",value:function(t,e){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];if(C(e)){var a,u=o.map((function(e,r){return n.operand(t,e,r)}));return(a=this.encoder).encode.apply(a,[e,1024].concat(Zu(u)))}var s,c=o.map((function(e,r){return n.operand(t,e,r)}));return(s=this.encoder).encode.apply(s,[e,0].concat(Zu(c)))}},{key:"operand",value:function(t,e,n){return e&&"object"===Qu(e)&&"label"===e.type?(this.currentLabels.target(this.encoder.size+n,e.value),-1):function(t,e){if("number"==typeof e||"function"==typeof e)return e;if("boolean"==typeof e)return!0===e?1:0;if("string"==typeof e)return t.value(e);if(null===e)return 0;switch(e.type){case"string-array":return t.array(e.value);case"serializable":return t.serializable(e.value);case"stdlib":return e;case"immediate":return g(e.value);case"primitive":case"template-meta":case"array":case"other":return t.value(e.value);case"lookup":throw y("lookup not reachable");default:return v(e)}}(t,e)}},{key:"label",value:function(t){this.currentLabels.label(t,this.encoder.size)}},{key:"startLabels",value:function(){this.labelsStack.push(new os)}},{key:"stopLabels",value:function(){this.labelsStack.pop().patch(this.encoder)}},{key:"currentLabels",get:function(){return this.labelsStack.current}}]),t}();function ss(t){for(var n=t.params,r=t.hash,o=t.blocks,i=t.atNames,a=[],u=o.names,s=0;s<u.length;s++)a.push(Ja(o.get(u[s])));var c=cs(n),l=c.count,f=c.actions;a.push(f);var p=l<<4;i&&(p|=8),o&&(p|=7);var h=e;if(r){h=r[0];for(var y=r[1],v=0;v<y.length;v++)a.push(as("Expr",y[v]))}return a.push(as(82,_a(h),_a(u),p)),a}function cs(t){if(!t)return{count:0,actions:cu};for(var e=[],n=0;n<t.length;n++)e.push(as("Expr",t[n]));return{count:t.length,actions:e}}function ls(t){return{asPartial:t.asPartial||!1,evalSymbols:fs(t),upvars:t.block.upvars,referrer:t.referrer,size:t.block.symbols.length}}function fs(t){var e=t.block;return e.hasEval?e.symbols:null}function ps(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return hs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hs(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ys="&attrs";function vs(t,e,n,r){var o=Pa(e,t);if(null!==o){var i=o.compilable,a=o.handle,u=o.capabilities;if(i){if(n)for(var s=0;s<n[0].length;s+=1)n[0][s]="@".concat(n[0][s]);var c=[as(77,a)];return c.push(ds({capabilities:u,layout:i,attrs:null,params:null,hash:n,blocks:new Fu({default:r})})),c}}return lu}function ds(t){var e=t.capabilities,n=t.layout,r=t.attrs,o=t.params,i=t.hash,a=t.blocks,u=n.symbolTable;if(u.hasEval||e.prepareArgs)return bs({capabilities:e,attrs:r,params:o,hash:i,atNames:!0,blocks:a,layout:n});var s=[as(35,4),as(32,3,1),as(34,4)],c=u.symbols;e.createArgs&&s.push(as(0),as("SimpleArgs",{params:o,hash:i,atNames:!0})),s.push(as(97,4)),e.dynamicScope&&s.push(as(58)),e.createInstance&&s.push(as(87,0|a.has("default"),4)),e.createArgs&&s.push(as(1)),s.push(as(0),as(88,4));var l=[];s.push(as(90,4)),l.push({symbol:0,isBlock:!1});for(var f=0;f<c.length;f++){var p=c[f];switch(p.charAt(0)){case"&":var h;(h=p===ys?r:a.get(p.slice(1)))?(s.push(Ja(h)),l.push({symbol:f+1,isBlock:!0})):(s.push(Ja(null)),l.push({symbol:f+1,isBlock:!0}));break;case"@":if(!i)break;var y=ps(i,2),v=y[0],d=y[1],m=p,b=v.indexOf(m);-1!==b&&(s.push(as("Expr",d[b])),l.push({symbol:f+1,isBlock:!1}))}}s.push(as(36,c.length+1,Object.keys(a).length>0?1:0));for(var g=l.length-1;g>=0;g--){var k=l[g],w=k.symbol;k.isBlock?s.push(as(20,w)):s.push(as(19,w))}return s.push([as(28,Ra(n)),as(60),as(2)]),s.push(as(100,4)),s.push(as(1),as(39)),e.dynamicScope&&s.push(as(59)),s.push(as(98),as(34,4)),s}function ms(t,e){var n=e.definition,r=e.attrs,o=e.params,i=e.hash,a=e.atNames,u=e.blocks,s=e.curried;return $a({args:function(){return{count:2,actions:[as("Expr",n),as(32,3,0)]}},body:function(){return[as(65,xa("ELSE")),s?as(81):as(80,Ca(t.referrer)),as(78),bs({capabilities:!0,attrs:r,params:o,hash:i,atNames:a,blocks:u}),as("Label","ELSE")]}})}function bs(t){var e=t.capabilities,n=t.attrs,r=t.params,o=t.hash,i=t.atNames,a=t.blocks,u=t.layout,s=!!a,c=!0===e||e.prepareArgs||!(!o||0===o[0].length),l=a.with("attrs",n);return[as(35,4),as(32,3,1),as(34,4),as(0),ss({params:r,hash:o,blocks:l,atNames:i}),as(85,4),gs(l.has("default"),s,c,(function(){var t;return(t=u?[Ha(u.symbolTable),Fa(u),as(60)]:[as(92,4)]).push(as(95,4)),t})),as(34,4)]}function gs(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=[as(97,4),as(58),as(87,0|t,4)];return r&&o.push(r()),o.push(as(88,4),as(90,4),as(37,4),as(19,0),as(94,4),n?as(17,4):cu,e?as(18,4):cu,as(33,1),as(96,4),as(100,4),as(1),as(39),as(59),as(98)),o}function ks(t){return Ju(t.block.statements,ls(t))}function ws(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ss=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.main=e,this.trustingGuardedAppend=n,this.cautiousGuardedAppend=r}var e,n;return e=t,(n=[{key:"getAppend",value:function(t){return t?this.trustingGuardedAppend:this.cautiousGuardedAppend}},{key:"trusting-append",get:function(){return this.trustingGuardedAppend}},{key:"cautious-append",get:function(){return this.cautiousGuardedAppend}}])&&ws(e.prototype,n),t}();function Os(){return[as(74,4),gs(!1,!1,!0)]}function Es(t){return[Ga((function(e){e(1,(function(){return t?[as(67),as(42)]:as(46)})),e(0,(function(){return[as(79),as(78),[as(35,4),as(32,3,1),as(34,4),as(0),as(83),as(85,4),gs(!1,!1,!0,(function(){return[as(92,4),as(95,4)]})),as(34,4)]]})),e(3,(function(){return[as(67),as(43)]})),e(4,(function(){return[as(67),as(44)]})),e(5,(function(){return[as(67),as(45)]}))}))]}var As={asPartial:!1,evalSymbols:null,upvars:null,referrer:{},size:0};function js(t,e){var n=new us,r=new ju;hu({encoder:n,meta:As,syntax:{macros:r,program:t}},e());var o=n.commit(t.heap,0);if("number"!=typeof o)throw new Error("Unexpected errors compiling std");return o}var _s=function t(e,n){var r=e.constants,o=e.heap;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolver=n,this.constants=r,this.heap=o,this.stdlib=function(t){var e=js(t,Os),n=js(t,(function(){return Es(!0)})),r=js(t,(function(){return Es(!1)}));return new Ss(e,n,r)}(this)};function Cs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Rs=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.layout=e,this.compiled=null;var n=e.block,r=n.symbols.slice(),o=r.indexOf(ys);this.attrsBlockNumber=-1===o?r.push(ys):o+1,this.symbolTable={hasEval:n.hasEval,symbols:r}}var n,r;return n=t,(r=[{key:"compile",value:function(t){if(null!==this.compiled)return this.compiled;var n,r,o,i=ls(this.layout),a=Ru(t,i);vu(a,(n=this.layout,r=this.attrsBlockNumber,[as("StartLabels"),(5,o=function(){return[as(91,4),as(30),as(32,3,0)]},[as(35,5),o(),as(34,5)]),as(65,xa("BODY")),as(35,5),as(89),as(48),as(99,4),Ua(r,e),as(53),as("Label","BODY"),Va(ks(n)),as(35,5),as(65,xa("END")),as(54),as("Label","END"),as(34,5),as("StopLabels")]));var u=a.encoder.commit(a.syntax.program.heap,i.size);return"number"!=typeof u||(this.compiled=u,Xo(a.syntax.program)),u}}])&&Cs(n.prototype,r),t}();function xs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ts=0;var Ps=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parsedLayout=e,this.result="ok",this.layout=null,this.partial=null,this.wrappedLayout=null;var n=e.block;this.symbols=n.symbols,this.hasEval=n.hasEval,this.referrer=e.referrer,this.id=e.id||"client-".concat(Ts++)}var e,n;return e=t,(n=[{key:"asLayout",value:function(){return this.layout?this.layout:this.layout=Uu(h({},this.parsedLayout,{asPartial:!1}))}},{key:"asPartial",value:function(){return this.partial?this.partial:this.layout=Uu(h({},this.parsedLayout,{asPartial:!0}))}},{key:"asWrappedLayout",value:function(){return this.wrappedLayout?this.wrappedLayout:this.wrappedLayout=new Rs(h({},this.parsedLayout,{asPartial:!1}))}}])&&xs(e.prototype,n),t}();function Ms(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ns(t){return(Ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Is=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.iterable=e,this.result=n,this.position=0}var e,n,r;return e=t,r=[{key:"from",value:function(t){var e=t[Symbol.iterator](),n=e.next();return!0===n.done?null:new this(e,n)}}],(n=[{key:"isEmpty",value:function(){return!1}},{key:"next",value:function(){var t=this.iterable,e=this.result,n=this.position;if(e.done)return null;var r=e.value,o=n;return this.position++,this.result=t.next(),{value:r,memo:o}}}])&&Ms(e.prototype,n),r&&Ms(e,r),t}();function Ls(t){return(Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ds(t,e){return(Ds=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bs(t,e){return!e||"object"!==Ls(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Us(t){return(Us=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Js(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zs=[],Hs=[],Fs=[];!function(t){Q=t.scheduleRevalidate,W=t.scheduleDestroy,G=t.scheduleDestroyed,$=t.toIterator,Y=t.toBool,q=t.getProp,K=t.setProp,X=t.getPath}({getProp:function(t,e){return t[e]},setProp:function(t,e,n){t[e]=n},getPath:function(t,e){return t[e]},scheduleRevalidate:function(){rl||(rl=!0,setTimeout((function(){rl=!1;try{!function(){var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Kc(t))){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(nl);try{for(e.s();!(t=e.n()).done;){var n=t.value,r=n.env;r.begin(),n.rerender(),r.commit()}}catch(t){e.e(t)}finally{e.f()}}(),tl.forEach((function(t){return(0,qc(t,1)[0])()}))}catch(t){tl.forEach((function(e){return(0,qc(e,2)[1])(t)}))}tl=[]}),0))},toBool:function(t){return Array.isArray(t)?0!==t.length:Boolean(t)},toIterator:function(t){return function(t){return"object"===Ns(t)&&null!==t&&Symbol.iterator in t}(t)?Is.from(t):null},scheduleDestroy:function(t,e){zs.push(t),Hs.push(e)},scheduleDestroyed:function(t){Fs.push(t)},warnIfStyleNotTrusted:function(){}});var Ws=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ds(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Us(e);if(n){var o=Us(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Bs(this,t)});function o(){var t;return Js(this,o),(t=r.apply(this,arguments)).isInteractive=!0,t.uselessAnchor=self.document.createElement("a"),t.protocolForURL=function(e){return t.uselessAnchor.href=e,t.uselessAnchor.protocol},t}return o}(function(){function t(){Js(this,t),this.extra=void 0}var e,n;return e=t,(n=[{key:"onTransactionBegin",value:function(){}},{key:"onTransactionCommit",value:function(){for(var t=0;t<zs.length;t++)Hs[t](zs[t]);Fs.forEach((function(t){return t()})),zs=[],Hs=[],Fs=[]}}])&&Vs(e.prototype,n),t}()),Gs=new WeakMap,$s=Object.getPrototypeOf;function Ys(t,e){return Gs.set(e,t),e}var qs=new WeakMap,Ks="__OWNER_".concat(Math.floor(Math.random()*Date.now()),"__"),Xs={},Qs=new WeakMap,Zs=new WeakMap,tc=Object.getPrototypeOf;function ec(t,e){return Qs.set(e,t),e}function nc(t){for(var e=t;null!=e;){var n=Qs.get(e);if(void 0!==n)return n;e=tc(e)}}function rc(t,e){var n=Zs.get(t);void 0===n&&(n=new WeakMap,Zs.set(t,n));var r=n.get(e);return void 0===r&&(r=e(t),n.set(e,r)),r}function oc(t,e){var n=nc(e);if(void 0!==n&&"component"===n.type)return rc(t,n.factory)}function ic(t){return(ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ac(t){if("symbol"===ic(t))return null;var e=Number(t);return isNaN(e)?null:e%1==0?e:null}function uc(t,e){var n=t.named,r=t.positional,o={get:function(t,e){var r=n[e];if(void 0!==r)return Ze(r)},has:function(t,e){return e in n},ownKeys:function(t){return Object.keys(n)},isExtensible:function(){return!1},getOwnPropertyDescriptor:function(t,e){return{enumerable:!0,configurable:!0}}},i={get:function(t,e){if("length"===e)return r.length;var n=ac(e);return null!==n&&n<r.length?Ze(r[n]):t[e]},isExtensible:function(){return!1},has:function(t,e){var n=ac(e);return null!==n&&n<r.length}},a=Object.create(null);return{named:new Proxy(a,o),positional:new Proxy([],i)}}function sc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var lc={createInstance:!0,dynamicLayout:!1,dynamicTag:!1,wrapped:!1,prepareArgs:!1,createArgs:!0,attributeHook:!1,elementHook:!1,updateHook:!1,createCaller:!1,dynamicScope:!0,willDestroy:!1};function fc(t){return t.capabilities.asyncLifecycleCallbacks}function pc(t){return t.capabilities.updateHook}var hc=function(){function t(){sc(this,t)}var e,n;return e=t,(n=[{key:"create",value:function(t,e,n,r){var o=e.ComponentDefinition,i=n.capture(),a=oc(Ze(r.get(Ks)),o),u=uc(i),s=a.createComponent(o,u);return new yc(t,a,s,i,u)}},{key:"update",value:function(t){var e=t.delegate,n=t.component,r=t.argsProxy;pc(e)&&e.updateComponent(n,r)}},{key:"didCreate",value:function(t){var e=t.delegate,n=t.component;fc(e)&&e.didCreateComponent(n)}},{key:"didUpdate",value:function(t){var e=t.delegate,n=t.component;(function(t){return fc(t)&&pc(t)})(e)&&e.didUpdateComponent(n)}},{key:"getContext",value:function(t){var e=t.delegate,n=t.component;e.getContext(n)}},{key:"getDebugName",value:function(t){return String(t.ComponentDefinition)}},{key:"getSelf",value:function(t){var e=t.delegate,n=t.component;return Ke(e.getContext(n))}},{key:"getDestroyable",value:function(t){return t}},{key:"getCapabilities",value:function(t){var e=t.capabilities;return Object.assign({},lc,{updateHook:e.updateHook})}},{key:"didRenderLayout",value:function(){}},{key:"didUpdateLayout",value:function(){}},{key:"getStaticLayout",value:function(t){return t.definition.template.asLayout()}}])&&cc(e.prototype,n),t}(),yc=function t(e,n,r,o,i){sc(this,t),this.env=e,this.delegate=n,this.component=r,this.args=o,this.argsProxy=i,function(t){return t.capabilities.destructor}(n)&&Wt(this,(function(){return n.destroyComponent(r)}))},vc=new hc,dc=function t(e,n,r){sc(this,t),this.manager=vc,this.handle=e,this.template=S(r);var o=oc(Xs,n).capabilities;this.state={ComponentDefinition:n,capabilities:o,definition:this}};function mc(t){var e,n,r;return function(){return n&&ke(n,r)||(n=Ue((function(){return e=t()})),r=ge(n)),Be(n),e}}function bc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gc(t){return function(e,n){var r,o=function(t,e){var n=nc(e);if(void 0!==n&&"helper"===n.type)return rc(t,n.factory)}(Ze(n.dynamicScope().get(Ks)),t),i=e.capture();if(void 0!==o)r=function(t,e,n,r){var o,i=uc(n),a=t.capabilities.updateHook,u=mc((function(){return t.getValue(o)})),s=mc((function(){void 0===o?(o=t.createHelper(e,i),t.capabilities.destroyable&&r.associateDestroyable(t.getDestroyable(o))):a&&t.updateHelper(o,i)}));return function(){return s(),u()}}(o,t,i,n);else{var a=t;r=function(t){return a.apply(void 0,function(t){return function(t){if(Array.isArray(t))return bc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return bc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bc(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.positional.map(Ze)))}}return Xe((function(){return r(i)}),null,r.name)}}function kc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Sc={attributeHook:!1,createArgs:!1,createCaller:!1,createInstance:!0,dynamicLayout:!1,dynamicScope:!1,dynamicTag:!1,elementHook:!1,prepareArgs:!1,updateHook:!1,wrapped:!1,willDestroy:!1},Oc=Ke(null),Ec=new(function(){function t(){wc(this,t)}var e,n,r;return e=t,r=[{key:"create",value:function(){return new t}}],(n=[{key:"getDebugName",value:function(t){return t.name}},{key:"getCapabilities",value:function(){return Sc}},{key:"getStaticLayout",value:function(t){return t.definition.template.asLayout()}},{key:"create",value:function(t,e){}},{key:"getSelf",value:function(t){return Oc}},{key:"getTag",value:function(){return je}},{key:"didRenderLayout",value:function(){}},{key:"didCreate",value:function(){}},{key:"didUpdateLayout",value:function(){}},{key:"didUpdate",value:function(){}},{key:"getDestroyable",value:function(){return null}}])&&kc(e.prototype,n),r&&kc(e,r),t}()),Ac=function t(e,n,r){wc(this,t),this.manager=Ec,this.handle=e,this.template=S(r),this.state={name:n,definition:this}},jc=function t(){wc(this,t)};function _c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xc(t,e,n){return e&&Rc(t.prototype,e),n&&Rc(t,n),t}function Tc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n("3.13"===t,"Invalid component manager compatibility specified"),{disableAutoTracking:Boolean(e.disableAutoTracking)}}var Pc=new(function(){function t(){Cc(this,t),this.capabilities=Tc("3.13")}return xc(t,[{key:"createModifier",value:function(t,e){return{definition:t}}},{key:"installModifier",value:function(t,e,n){t.destructor=t.definition.apply(t,[e].concat(function(t){return function(t){if(Array.isArray(t))return _c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return _c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_c(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.positional))),t.element=e}},{key:"updateModifier",value:function(t,e){this.destroyModifier(t),this.installModifier(t,t.element,e)}},{key:"destroyModifier",value:function(t){var e=t.destructor;void 0!==e&&e()}}]),t}()),Mc=function t(e,n,r,o,i){Cc(this,t),this.element=e,this.delegate=n,this.modifier=r,this.argsProxy=o,this.capturedArgs=i,this.tag=Ae(),Wt(this,(function(){return n.destroyModifier(r,o)}))},Nc=new(function(){function t(){Cc(this,t)}return xc(t,[{key:"create",value:function(t,e,n,r){var o=function(t,e){var n=nc(e);if(void 0!==n&&"modifier"===n.type)return rc(t,n.factory)}(Ze(r.get(Ks)),e);void 0===o&&(o=Pc);var i=n.capture(),a=uc(i),u=o.createModifier(e,a);return new Mc(t,o,u,a,i)}},{key:"getDebugName",value:function(t){return String(t.modifier)}},{key:"getTag",value:function(t){return t.tag}},{key:"install",value:function(t){var e=t.element,n=t.argsProxy,r=t.delegate,o=t.modifier;!0===r.capabilities.disableAutoTracking?Je((function(){return r.installModifier(o,e,n)})):r.installModifier(o,e,n)}},{key:"update",value:function(t){var e=t.argsProxy,n=t.delegate,r=t.modifier;!0===n.capabilities.disableAutoTracking?Je((function(){return n.updateModifier(r,e)})):n.updateModifier(r,e)}},{key:"getDestroyable",value:function(t){return t}}]),t}()),Ic=function t(e,n){Cc(this,t),this.handle=e,this.state=n,this.manager=Nc},Lc=0,Dc=new WeakMap,Bc=new WeakMap,Uc=new WeakMap;function Jc(t){return Dc.get(t)||function(t){var e,n=function(t){var e,n=t.id,r=t.meta,o=t.block,i=n||"client-".concat(Ts++);return{id:i,meta:r,create:function(t){var n=t?h({},t,r):r;return e||(e=JSON.parse(o)),new Ps({id:i,block:e,referrer:n})}}}(function(t){for(var e=t;null!=e;){var n=Gs.get(e);if(void 0!==n)return n;e=$s(e)}}(t)).create();return e=t instanceof jc?new Ac(Lc++,"template-only-component",n):new dc(Lc++,t,n),Dc.set(t,e),e}(t)}function Vc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fc(t,e,n){return e&&Hc(t.prototype,e),n&&Hc(t,n),t}var Wc={if:{helper:function(t){var e=t.positional.capture();return Xe((function(){if(e.length>3)throw new Error('The inline form of the `if` helper expects two or three arguments, e.g. `{{if trialExpired "Expired" expiryDate}}`.');var t=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Vc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vc(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),n=t[0],r=t[1],o=t[2];return!0===Y(Ze(n))?Ze(r):void 0!==o?Ze(o):void 0}),null,"if")},handle:Lc++}},Gc=function(){function t(){zc(this,t),this.registry=[]}return Fc(t,[{key:"registerRoot",value:function(t){var e=Jc(t),n=e.handle;return this.registry[n]=e,n}},{key:"lookupComponent",value:function(t,e){return this.registry[t]}},{key:"resolve",value:function(t){return this.registry[t]}},{key:"compilable",value:function(t){throw new Error("Method not implemented.")}},{key:"lookupPartial",value:function(t,e){throw new Error("Method not implemented.")}}]),t}(),$c=function(){function t(e){zc(this,t),this.inner=e}return Fc(t,[{key:"lookupHelper",value:function(t,e){var n,r,o,i=e.scope(),a=Wc[t]||(n=i[t],Bc.get(n)||(o={helper:gc(r=n),handle:Lc++},Bc.set(r,o),o)),u=a.helper,s=a.handle;return this.inner.registry[s]=u,s}},{key:"lookupModifier",value:function(t,e){var n,r=(n=e.scope()[t],Uc.get(n)||function(t){var e=new Ic(Lc++,t);return Uc.set(t,e),e}(n)),o=r.handle;return this.inner.registry[o]=r,o}},{key:"lookupComponent",value:function(t,e){var n=Jc(e.scope()[t]),r=n.state,o=n.manager,i=n.template,a=n.handle;return this.inner.registry[a]=n,{handle:a,capabilities:o.getCapabilities(r),compilable:S(i).asLayout()}}},{key:"resolve",value:function(t){return this.inner.resolve(t)}},{key:"lookupPartial",value:function(t,e){throw new Error("Method not implemented.")}}]),t}();function Yc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||Kc(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kc(t,e){if(t){if("string"==typeof t)return Xc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xc(t,e):void 0}}function Xc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qc(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function Zc(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Qc(i,r,o,a,u,"next",t)}function u(t){Qc(i,r,o,a,u,"throw",t)}a(void 0)}))}}var tl=[];function el(){return(el=Zc(regeneratorRuntime.mark((function t(e,n){var r,o,i,a,u,s,c,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n instanceof HTMLElement?{element:n}:n,o=r.element,i=r.args,a=r.owner,u=self.document,s=sl(e,o,{document:u},new Ws,i,a,r.rehydrate?Aa:fe),c=s.env,l=s.iterator,f=ra(c,l),nl.push(f);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var nl=[],rl=!1,ol=new Gc,il={constants:new Lo,heap:new Yo},al=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ju;return{program:new _s(t,e),macros:n}}(il,new $c(ol));function ul(t){var e=Ke(t);return Object.keys(t).reduce((function(t,n){return t[n]=en(e,n),t}),{})}function sl(t,e,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Xs,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fe,s=oi(n,r,il,ol),c=u(s.env,{element:e,nextSibling:null}),l=ol.registerRoot(t),f=ol.lookupComponent(l),p=f.manager.getStaticLayout(f.state,ol);return a&&(o=new gn(Yc({},Ks,Ke(a)))),{iterator:ia(s,c,al,f,p,ul(i),o),env:s.env}}function cl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ll=new WeakMap,fl=new WeakMap,pl=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.args=n,ll.set(this,!1),fl.set(this,!1)}var e,n;return e=t,(n=[{key:"willDestroy",value:function(){}},{key:"isDestroying",get:function(){return ll.get(this)||!1}},{key:"isDestroyed",get:function(){return fl.get(this)||!1}}])&&cl(e.prototype,n),t}();function hl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var yl=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.owner=e}var e,n;return e=t,(n=[{key:"createComponent",value:function(t,e){return new t(this.owner,e.named)}},{key:"getContext",value:function(t){return t}}])&&hl(e.prototype,n),t}();function vl(t){return(vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ml(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bl(t,e){return(bl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gl(t,e){return!e||"object"!==vl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kl(t){return(kl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wl=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n("3.4"===t||"3.13"===t,"Invalid component manager compatibility specified");var r="3.4"===t||Boolean(e.updateHook);return{asyncLifecycleCallbacks:Boolean(e.asyncLifecycleCallbacks),destructor:Boolean(e.destructor),updateHook:r}}("3.13",{destructor:!0}),Sl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bl(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=kl(r);if(o){var n=kl(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return gl(this,t)});function a(){var t;return dl(this,a),(t=i.apply(this,arguments)).capabilities=wl,t}return e=a,(n=[{key:"destroyComponent",value:function(t){!function(t){ll.set(t,!0)}(t),t.willDestroy(),function(t){fl.set(t,!0)}(t)}}])&&ml(e.prototype,n),a}(yl);function Ol(t){return(Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function El(t,e){return(El=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Al(t,e){return!e||"object"!==Ol(e)&&"function"!=typeof e?jl(t):e}function jl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _l(t){return(_l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&El(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=_l(e);if(n){var o=_l(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Al(this,t)});function o(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),function(t,e){qs.set(t,e)}(jl(n=r.call(this,t,e)),t),n}return o}(pl);function Rl(t,e,n){var r=function(t,e){var n=new WeakMap,r="function"==typeof e;return{getter:function(o){var i;return Be(function(t,e,n){var r=void 0===n?function(t){var e=Te.get(t);return void 0===e&&(e=new Map,Te.set(t,e)),e}(t):n,o=r.get(e);return void 0===o&&(o=Ae(),r.set(e,o)),o}(o,t)),r&&!n.has(o)?(i=e.call(o),n.set(o,i)):i=n.get(o),i},setter:function(e,r){(function(t,e,n){var r=void 0===n?Te.get(t):n;if(void 0!==r){var o=r.get(e);void 0!==o&&Oe(o)}})(e,t),n.set(e,r)}}}(e,n&&n.initializer),o=r.getter,i=r.setter;return{enumerable:!0,configurable:!0,get:function(){return o(this)},set:function(t){i(this,t)}}}function xl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Tl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tl(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ml(t,e,n,r){}ec({factory:function(t){return new Sl(t)},type:"component"},Cl);var Nl=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.capabilities=Tc("3.13")}var e,n;return e=t,(n=[{key:"createModifier",value:function(t,e){return{args:e,previousArgs:e}}},{key:"installModifier",value:function(t,e){var n=t.args,r=xl(n.positional,2),o=r[0],i=r[1],a=Object.assign({},n.named);e.addEventListener(o,i,a),t.element=e,t.previousArgs={positional:[o,i],named:a}}},{key:"updateModifier",value:function(t){this.destroyModifier(t),this.installModifier(t,t.element)}},{key:"destroyModifier",value:function(t){var e=t.element,n=t.previousArgs,r=xl(n.positional,2),o=r[0],i=r[1];e.removeEventListener(o,i,n.named)}}])&&Pl(e.prototype,n),t}();ec({factory:function(){return new Nl},type:"modifier"},Ml);var Il=new WeakMap;function Ll(t){return(Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bl(t,e){return(Bl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ul(t,e){return!e||"object"!==Ll(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jl(t){return(Jl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vl,zl,Hl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bl(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Jl(e);if(n){var o=Jl(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Ul(this,t)});function o(){return Dl(this,o),r.apply(this,arguments)}return o}(Cl);function Fl(t){return(Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wl(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Gl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yl(t,e){return(Yl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ql(t,e){return!e||"object"!==Fl(e)&&"function"!=typeof e?Kl(t):e}function Kl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xl(t){return(Xl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ql(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zl(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Ys({id:"TPQ9JDd7",block:'{"symbols":["@count"],"statements":[[10,"b"],[12],[2,"Counter Val: "],[1,[32,1]],[13]],"hasEval":false,"upvars":[]}',meta:{scope:function(){return{}}}},Hl);var tf=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.bind.apply(t,[null].concat(n))}((function(t,e){return"Helper:   ".concat(e," ").concat(t)})),ef=(zl=Zl((Vl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yl(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xl(r);if(o){var n=Xl(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ql(this,t)});function a(){var t;Gl(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ql(Kl(t=i.call.apply(i,[this].concat(n))),"message","hello world"),Wl(Kl(t),"count",zl,Kl(t)),t}return e=a,(n=[{key:"increment",value:function(){this.count++}},{key:"currentLocale",get:function(){return(this,qs.get(this)).services.locale.currentLocale}}])&&$l(e.prototype,n),a}(Cl)).prototype,"count",[function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],o=e[1],i=e[2];if(i)return Rl(0,o,i);Object.defineProperty(r,o,Rl(0,o))}],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 55}}),Zl(Vl.prototype,"increment",[function(t,e,n){var r=n.value;return{enumerable:n.enumerable,configurable:n.configurable,get:function(){var t=Il.get(this);void 0===t&&(t=new Map,Il.set(this,t));var e=t.get(r);return void 0===e&&(e=r.bind(this),t.set(r,e)),e}}}],Object.getOwnPropertyDescriptor(Vl.prototype,"increment"),Vl.prototype),Vl),nf=Ys({id:"L5JoAqUE",block:'{"symbols":["@name"],"statements":[[10,"h1"],[12],[2,"I am rendered by a template only component: "],[1,[32,1]],[13]],"hasEval":false,"upvars":[]}',meta:{scope:function(){return{}}}},new jc);function rf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function of(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rf(Object(n),!0).forEach((function(e){af(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function af(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uf(t){return(uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Ys({id:"MJ4xu0vr",block:'{"symbols":[],"statements":[[2,"\\n      "],[10,"h1"],[12],[2,"Hello "],[1,[32,0,["message"]]],[13],[2," "],[10,"br"],[12],[13],[2,"\\n      "],[10,"p"],[12],[1,[32,0,["count"]]],[13],[2,"\\n      "],[10,"p"],[12],[2," "],[1,[30,[36,0],["foo","hello"],null]],[13],[2,"\\n      "],[10,"p"],[12],[2,"Current Locale: "],[1,[32,0,["currentLocale"]]],[13],[2,"\\n      "],[11,"button"],[4,[38,1],["click",[32,0,["increment"]]],null],[12],[2,"Increment"],[13],[2,"\\n      "],[8,"TemplateOnlyComponent",[],[["@name"],["Glimmer"]],null],[2,"\\n      "],[8,"OtherComponent",[],[["@count"],["22"]],null],[2,"\\n    "]],"hasEval":false,"upvars":["myHelper","on"]}',meta:{scope:function(){return{myHelper:tf,TemplateOnlyComponent:nf,OtherComponent:Hl,on:Ml}}}},ef);var sf={renderComponent:null,App:null,element:null};function cf(t){return Promise.resolve()}function lf(t){return Promise.resolve().then((function(){t.renderComponent(App,element)}))}function ff(t){return Promise.resolve().then((function(){return!0}))}var pf=function(t){if("object"!==uf(t))throw new Error("single-spa-glimmer requires a configuration object");var e=of(of({},sf),t);if(!e.App)throw new Error("single-spa-glimmer must be passed opts.App");if(e.renderComponent&&"function"!=typeof e.renderComponent)throw new Error("single-spa-glimmer: renderComponent must be a function ");return{bootstrap:cf.bind(null,e),mount:lf.bind(null,e),unmount:ff.bind(null,e)}}({App:ef,renderComponent:function(t,e){return el.apply(this,arguments)},element:document.getElementById("single-spa-application:@dcx/navbar")});pf.bootstrap,pf.mount,pf.unmount})();